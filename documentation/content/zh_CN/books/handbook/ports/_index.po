# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2021-02-27 11:44-0300\n"
"PO-Revision-Date: 2021-04-12 20:52+0000\n"
"Last-Translator: Anonymous <noreply@weblate.org>\n"
"Language-Team: Chinese (Simplified) <https://translate-dev.freebsd.org/"
"projects/documentation/bookshandbookports_index/zh_CN/>\n"
"Language: zh_CN\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=1; plural=0;\n"
"X-Generator: Weblate 4.5.2\n"

#. type: YAML Front Matter: part
#: documentation/content/en/books/handbook/ports/_index.adoc:1
#, no-wrap
msgid "Part I. Getting Started"
msgstr ""

#. type: YAML Front Matter: title
#: documentation/content/en/books/handbook/ports/_index.adoc:1
#, no-wrap
msgid "Chapter 4. Installing Applications: Packages and Ports"
msgstr ""

#. type: Title =
#: documentation/content/en/books/handbook/ports/_index.adoc:9
#, no-wrap
msgid "Installing Applications: Packages and Ports"
msgstr "使用 Package 和 Ports 安装应用程序"

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:45
#, no-wrap
msgid "Synopsis"
msgstr "简介"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:48
msgid ""
"FreeBSD is bundled with a rich collection of system tools as part of the "
"base system. In addition, FreeBSD provides two complementary technologies "
"for installing third-party software: the FreeBSD Ports Collection, for "
"installing from source, and packages, for installing from pre-built "
"binaries. Either method may be used to install software from local media or "
"from the network."
msgstr ""
"FreeBSD 将许多系统工具捆绑作为基本系统的一部分。 然而， 要完成实际的工作， 可能还需要安装更多的第三方应用。 FreeBSD "
"提供了两种补充的技术， 用以在您的系统中安装第三方软件： FreeBSD Ports 套件 (用于从源代码安装)， 以及 packages "
"(用以从预编译的二进制版本安装)。 这两种方法都可以用于从本地介质， 或从网上直接安装您喜欢的应用程序的最新版本。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:50
msgid "After reading this chapter, you will know:"
msgstr "读完本章节，你将会知道："

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:52
msgid "The difference between binary packages and ports."
msgstr "二进制包和 ports 之间的差异。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:53
msgid "How to find third-party software that has been ported to FreeBSD."
msgstr "如何查找已移植到 FreeBSD 的第三方软件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:54
msgid "How to manage binary packages using pkg."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:55
msgid "How to build third-party software from source using the Ports Collection."
msgstr "如何使用 Ports 集合从源构建第三方软件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:56
msgid ""
"How to find the files installed with the application for post-installation "
"configuration."
msgstr "如何查找与应用程序一起安装的文件，以便进行安装后配置。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:57
msgid "What to do if a software installation fails."
msgstr "如果软件安装失败，该怎么办。"

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:59
#, no-wrap
msgid "Overview of Software Installation"
msgstr "软件安装概览"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:62
msgid ""
"The typical steps for installing third-party software on a UNIX(R) system "
"include:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:65
msgid ""
"Find and download the software, which might be distributed in source code "
"format or as a binary."
msgstr "下载这个软件，软件的发行版可能是源代码格式，或是一个二进制包。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:66
msgid ""
"Unpack the software from its distribution format. This is typically a "
"tarball compressed with a program such as man:compress[1], man:gzip[1], "
"man:bzip2[1] or man:xz[1]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:67
msgid ""
"Locate the documentation in [.filename]#INSTALL#, [.filename]#README# or "
"some file in a [.filename]#doc/# subdirectory and read up on how to install "
"the software."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:68
msgid ""
"If the software was distributed in source format, compile it. This may "
"involve editing a [.filename]#Makefile# or running a `configure` script."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:69
msgid "Test and install the software."
msgstr "测试和安装软件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:71
#, fuzzy
msgid ""
"A FreeBSD _port_ is a collection of files designed to automate the process "
"of compiling an application from source code. The files that comprise a port "
"contain all the necessary information to automatically download, extract, "
"patch, compile, and install the application."
msgstr ""
"FreeBSD<emphasis>port</emphasis>是一组文件，旨在自动从源代码编译应用程序的过程。构成端口的文件包含自动下载、提取、修补、编"
"译和安装应用程序所需的所有信息。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:73
msgid ""
"If the software has not already been adapted and tested on FreeBSD, the "
"source code might need editing in order for it to install and run properly."
msgstr "如果软件尚未在 FreeBSD 上进行了调整和测试，则源代码可能需要编辑才能安装并正常运行。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:75
msgid ""
"However, over link:https://www.FreeBSD.org/ports/[{numports}] third-party "
"applications have already been ported to FreeBSD. When feasible, these "
"applications are made available for download as pre-compiled _packages_."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:77
msgid "Packages can be manipulated with the FreeBSD package management commands."
msgstr "可以使用 FreeBSD 包管理命令管理软件包。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:79
msgid ""
"Both packages and ports understand dependencies. If a package or port is "
"used to install an application and a dependent library is not already "
"installed, the library will automatically be installed first."
msgstr ""
"Packages 和 Ports 都能处理依赖关系。如果使用Packages 或 Ports安装应用程序，并且尚未安装依赖库，则将首先自动安装该库。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:81
msgid ""
"A FreeBSD package contains pre-compiled copies of all the commands for an "
"application, as well as any configuration files and documentation. A package "
"can be manipulated with the man:pkg[8] commands, such as `pkg install`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:83
msgid ""
"While the two technologies are similar, packages and ports each have their "
"own strengths. Select the technology that meets your requirements for "
"installing a particular application."
msgstr "虽然这两种技术相似，但 Packages 和 Ports 各有其优点。 使用哪一种完全取决于您自己的喜好。"

#. type: Block title
#: documentation/content/en/books/handbook/ports/_index.adoc:84
#, no-wrap
msgid "Package Benefits"
msgstr "Package 优势"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:86
msgid ""
"A compressed package tarball is typically smaller than the compressed "
"tarball containing the source code for the application."
msgstr "一个压缩的 package 通常要比一个压缩的包含源代码的应用程序小得多。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:87
msgid ""
"Packages do not require compilation time. For large applications, such as "
"Mozilla, KDE, or GNOME, this can be important on a slow system."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:88
msgid ""
"Packages do not require any understanding of the process involved in "
"compiling software on FreeBSD."
msgstr "Package 不需要您知道如何在 FreeBSD 上编译软件的详细过程。"

#. type: Block title
#: documentation/content/en/books/handbook/ports/_index.adoc:89
#, no-wrap
msgid "Port Benefits"
msgstr "Port 优势"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:91
msgid ""
"Packages are normally compiled with conservative options because they have "
"to run on the maximum number of systems. By compiling from the port, one can "
"change the compilation options."
msgstr "package 通常使用较为保守的编译选项，因为它必须适配大多是系统。从 Port 编译，可以更改编译选项。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:92
#, fuzzy
msgid ""
"Some applications have compile-time options relating to which features are "
"installed. For example, Apache can be configured with a wide variety of "
"different built-in options."
msgstr ""
"一些软件包已经把与它们相关的能做和不能做的事情的选项都编译进去了。 例如，<application>Apache</application> "
"可能就配置了很多的选项。 从 Ports 中安装时，您不一定要接受默认的选项，可以自己来设置。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:94
#, fuzzy
msgid ""
"  In some cases, multiple packages will exist for the same application to "
"specify certain settings. For example, Ghostscript is available as a "
"[.filename]#ghostscript# package and a [.filename]#ghostscript-nox11# "
"package, depending on whether or not Xorg is installed. Creating multiple "
"packages rapidly becomes impossible if an application has more than one or "
"two different compile-time options."
msgstr ""
"  在一些例子中，一个软件有不同的配置存在多个package。 例如， <application>Ghostscript</application>存在 "
"<filename>ghostscript</filename> package 和 <filename>ghostscript-nox11</"
"filename> package 两个配置 package， 这取决于您是否安装了X11 服务器。这样的调整对 package 是可能的， "
"但如果一个应用程序有超过一个或两个不同的编译时间选项时， 就不行了。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:95
msgid ""
"The licensing conditions of some software forbid binary distribution. Such "
"software must be distributed as source code which must be compiled by the "
"end-user."
msgstr "一些软件的许可条件禁止采用二进制形式发行。 它们必须带上源代码。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:96
msgid ""
"Some people do not trust binary distributions or prefer to read through "
"source code in order to look for potential problems."
msgstr "一些人不信任二进制发行形式。 至少有了源代码， (理论上) 可以亲自阅读它，寻找潜在的问题。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:97
msgid "Source code is needed in order to apply custom patches."
msgstr "如果您要自己对软件打补丁，您就需要有源代码。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:99
msgid ""
"To keep track of updated ports, subscribe to the {freebsd-ports} and the "
"{freebsd-ports-bugs}."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:104
msgid ""
"Before installing any application, check https://vuxml.freebsd.org/[] for "
"security issues related to the application or type `pkg audit -F` to check "
"all installed applications for known vulnerabilities."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:107
msgid ""
"The remainder of this chapter explains how to use packages and ports to "
"install and manage third-party software on FreeBSD."
msgstr "这章的其余部分将介绍在 FreeBSD 上如何使用 packages 和 ports 来安装和管理第三方软件。"

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:109
#, no-wrap
msgid "Finding Software"
msgstr "寻找您要的应用程序"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:112
msgid ""
"FreeBSD's list of available applications is growing all the time. There are "
"a number of ways to find software to install:"
msgstr "FreeBSD中可用的应用程序正在不断地增长着。有许多方法可以找到您所需要的软件:"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:114
msgid ""
"The FreeBSD web site maintains an up-to-date searchable list of all the "
"available applications, at "
"link:https://www.FreeBSD.org/ports/[https://www.FreeBSD.org/ports/]. The "
"ports can be searched by application name or by software category."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:115
#, fuzzy
msgid ""
"Dan Langille maintains http://www.FreshPorts.org/[FreshPorts.org] which "
"provides a comprehensive search utility and also tracks changes to the "
"applications in the Ports Collection. Registered users can create a "
"customized watch list in order to receive an automated email when their "
"watched ports are updated."
msgstr ""
"Dan Langille 维护着网站 FreshPorts，在 <uri xlink:href=\"http://www.FreshPorts.org/"
"\">http://www.FreshPorts.org/</uri>。 FreshPort时刻 <quote>追踪</quote> 着在 ports "
"中应用程序的变化。当有任何程序被升级时，他们就会发 email 提醒您。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:116
msgid ""
"If finding a particular application becomes challenging, try searching a "
"site like http://www.sourceforge.net/[SourceForge.net] or "
"http://www.github.com/[GitHub.com] then check back at the "
"link:https://www.FreeBSD.org/ports/[FreeBSD site] to see if the application "
"has been ported."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:117
msgid "To search the binary package repository for an application:"
msgstr "使用下列命令搜索 pkg 中的软件包："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:132
#, no-wrap
msgid ""
"# pkg search subversion\n"
"git-subversion-1.9.2\n"
"java-subversion-1.8.8_2\n"
"p5-subversion-1.8.8_2\n"
"py27-hgsubversion-1.6\n"
"py27-subversion-1.8.8_2\n"
"ruby-subversion-1.8.8_2\n"
"subversion-1.8.8_2\n"
"subversion-book-4515\n"
"subversion-static-1.8.8_2\n"
"subversion16-1.6.23_4\n"
"subversion17-1.7.16_2\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:135
#, fuzzy
msgid ""
"  Package names include the version number and, in the case of ports based "
"on python, the version number of the version of python the package was built "
"with. Some ports also have multiple versions available. In the case of "
"Subversion, there are different versions available, as well as different "
"compile options. In this case, the statically linked version of "
"Subversion. When indicating which package to install, it is best to specify "
"the application by the port origin, which is the path in the ports "
"tree. Repeat the `pkg search` with `-o` to list the origin of each package:"
msgstr ""
"  软件包名字中带有版本号。如果这个软件使用 Python 写的，包名中还会包含软件使用的 Python 版本号。一些软件可能会有很多个版本。以<appl"
"ication>Subversion</application>为例，就有许多不同的版本，还有不同的编译参数。在本例中，静态链接的<application"
">Subversion</application>版本。指示要安装哪个包时，最好按 Port 源指定应用程序，Port 源是 Port 树中的路径。使用 "
"<command>pkg search -o</command> 列出每个包的来源："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:150
#, no-wrap
msgid ""
"# pkg search -o subversion\n"
"devel/git-subversion\n"
"java/java-subversion\n"
"devel/p5-subversion\n"
"devel/py-hgsubversion\n"
"devel/py-subversion\n"
"devel/ruby-subversion\n"
"devel/subversion16\n"
"devel/subversion17\n"
"devel/subversion\n"
"devel/subversion-book\n"
"devel/subversion-static\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:153
msgid ""
"  Searching by shell globs, regular expressions, exact match, by "
"description, or any other field in the repository database is also supported "
"by `pkg search`. After installing package:ports-mgmt/pkg[] or "
"package:ports-mgmt/pkg-devel[], see man:pkg-search[8] for more details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:154
msgid ""
"If the Ports Collection is already installed, there are several methods to "
"query the local version of the ports tree. To find out which category a port "
"is in, type `whereis _file_`, where _file_ is the program to be installed:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:159
#, no-wrap
msgid ""
"# whereis lsof\n"
"lsof: /usr/ports/sysutils/lsof\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:162
msgid "  Alternately, an man:echo[1] statement can be used:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:167
#, no-wrap
msgid ""
"# echo /usr/ports/*/*lsof*\n"
"/usr/ports/sysutils/lsof\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:170
#, fuzzy
msgid ""
"  Note that this will also return any matched files downloaded into the "
"[.filename]#/usr/ports/distfiles# directory."
msgstr "  请注意，这也会显示已下载至<filename>/usr/ports/distfiles</filename>目录中任何已符合条件的文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:171
msgid ""
"Another way to find software is by using the Ports Collection's built-in "
"search mechanism. To use the search feature, cd to [.filename]#/usr/ports# "
"then run `make search name=program-name` where _program-name_ is the name of "
"the software. For example, to search for `lsof`:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:183
#, no-wrap
msgid ""
"# cd /usr/ports\n"
"# make search name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"
"Maint:  ler@lerctr.org\n"
"Index:  sysutils\n"
"B-deps:\n"
"R-deps: \n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:189
msgid ""
"The built-in search mechanism uses a file of index information. If a message "
"indicates that the [.filename]#INDEX# is required, run `make fetchindex` to "
"download the current index file. With the [.filename]#INDEX# present, `make "
"search` will be able to perform the requested search."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:192
msgid "  The \"Path:\" line indicates where to find the port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:194
msgid "  To receive less information, use the `quicksearch` feature:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:202
#, no-wrap
msgid ""
"# cd /usr/ports\n"
"# make quicksearch name=lsof\n"
"Port:   lsof-4.88.d,8\n"
"Path:   /usr/ports/sysutils/lsof\n"
"Info:   Lists information about open files (similar to fstat(1))\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:205
msgid ""
"  For more in-depth searching, use `make search key=_string_` or `make "
"quicksearch key=_string_`, where _string_ is some text to search for. The "
"text can be in comments, descriptions, or dependencies in order to find "
"ports which relate to a particular subject when the name of the program is "
"unknown."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:207
msgid ""
"  When using `search` or `quicksearch`, the search string is "
"case-insensitive. Searching for \"LSOF\" will yield the same results as "
"searching for \"lsof\"."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:209
#, no-wrap
msgid "Using pkg for Binary Package Management"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:212
#, fuzzy
msgid ""
"pkg is the next generation replacement for the traditional FreeBSD package "
"management tools, offering many features that make dealing with binary "
"packages faster and easier."
msgstr "<application>pkg</application>是新一代套件管理工具用来取代旧版工具，提供许多功能让处理二进制套件更快更简单。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:214
msgid ""
"For sites wishing to only use prebuilt binary packages from the FreeBSD "
"mirrors, managing packages with pkg can be sufficient."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:216
msgid ""
"However, for those sites building from source or using their own "
"repositories, a separate <<ports-upgrading-tools,port management tool>> will "
"be needed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:218
msgid ""
"Since pkg only works with binary packages, it is not a replacement for such "
"tools. Those tools can be used to install software from both binary packages "
"and the Ports Collection, while pkg installs only binary packages."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:220
#, no-wrap
msgid "Getting Started with pkg"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:223
msgid ""
"FreeBSD includes a bootstrap utility which can be used to download and "
"install pkg and its manual pages. This utility is designed to work with "
"versions of FreeBSD starting with 10._X_."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:227
msgid ""
"Not all FreeBSD versions and architectures support this bootstrap "
"process. The current list is at https://pkg.freebsd.org/[]. For other cases, "
"pkg must instead be installed from the Ports Collection or as a binary "
"package."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:230
msgid "To bootstrap the system, run:"
msgstr "要初始化（Bootstrap）系统请执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:234
#, no-wrap
msgid "# /usr/sbin/pkg\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:237
msgid ""
"You must have a working Internet connection for the bootstrap process to "
"succeed."
msgstr "您必须有可用的网络连接（注：正常访问 pkg.freebsd.org）供启动程序使用方可成功。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:239
msgid "Otherwise, to install the port, run:"
msgstr "否则，要安装Port套件，则须执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:245
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/pkg\n"
"# make\n"
"# make install clean\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:248
#, fuzzy
msgid ""
"When upgrading an existing system that originally used the older pkg_* "
"tools, the database must be converted to the new format, so that the new "
"tools are aware of the already installed packages. Once pkg has been "
"installed, the package database must be converted from the traditional "
"format to the new format by running this command:"
msgstr ""
"当升级原使用旧版pkg_*工具的既有系统时，必须将数据库转换成新的格式，如此新的工具才会知道有那些已安装过的套件。<application>pkg</ap"
"plication>安装完后，必须执行以下指令将套件数据库从旧版格式转换到新版格式："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:252
#, no-wrap
msgid "# pkg2ng\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:257
msgid ""
"This step is not required for new installations that do not yet have any "
"third-party software installed."
msgstr "新安装的版本因尚未安装任何第三方软件因此不须做这个步骤。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:262
msgid ""
"This step is not reversible. Once the package database has been converted to "
"the pkg format, the traditional `pkg_*` tools should no longer be used."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:267
#, fuzzy
msgid ""
"The package database conversion may emit errors as the contents are "
"converted to the new version. Generally, these errors can be safely "
"ignored. However, a list of software that was not successfully converted is "
"shown after `pkg2ng` finishes. These applications must be manually "
"reinstalled."
msgstr ""
"套件数据库转换的过程可能会因内容转换为新版本产生错误。通常，这些错误皆可安全忽略，即使如此，仍然有在执行<command>pkg2ng</command>"
"后无法成功转换的软件清单，这些应用程序则必须手动重新安装。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:270
msgid ""
"To ensure that the Ports Collection registers new software with pkg instead "
"of the traditional packages database, FreeBSD versions earlier than 10._X_ "
"require this line in [.filename]#/etc/make.conf#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:274
#, no-wrap
msgid "WITH_PKGNG=   yes\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:277
msgid ""
"By default, pkg uses the binary packages from the FreeBSD package mirrors "
"(the _repository_). For information about building a custom package "
"repository, see <<ports-poudriere>>."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:279
msgid "Additional pkg configuration options are described in man:pkg.conf[5]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:281
msgid ""
"Usage information for pkg is available in the man:pkg[8] manual page or by "
"running `pkg` without additional arguments."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:283
msgid ""
"Each pkg command argument is documented in a command-specific manual "
"page. To read the manual page for `pkg install`, for example, run either of "
"these commands:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:287
#, no-wrap
msgid "# pkg help install\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:292
#, no-wrap
msgid "# man pkg-install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:295
#, fuzzy
msgid ""
"The rest of this section demonstrates common binary package management tasks "
"which can be performed using pkg. Each demonstrated command provides many "
"switches to customize its use. Refer to a command's help or man page for "
"details and more examples."
msgstr ""
"本章节剩余部份将介绍如何使用<application>pkg</application>执行常用的Binary套件管理工作。每个示范的指令皆会提供多个参数"
"可使用，请参考指令的说明或操作手册以取得详细信息或更多示例。"

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:297
#, no-wrap
msgid "Quarterly and Latest Ports Branches"
msgstr "Ports 分支：Quarterly 和 Latest"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:300
#, fuzzy
msgid ""
"The `Quarterly` branch provides users with a more predictable and stable "
"experience for port and package installation and upgrades. This is done "
"essentially by only allowing non-feature updates. Quarterly branches aim to "
"receive security fixes (that may be version updates, or backports of "
"commits), bug fixes and ports compliance or framework changes. The Quarterly "
"branch is cut from HEAD at the beginning of every (yearly) quarter in "
"January, April, July, and October. Branches are named according to the year "
"(YYYY) and quarter (Q1-4) they are created in. For example, the quarterly "
"branch created in January 2016, is named 2016Q1. And the `Latest` branch "
"provides the latest versions of the packages to the users."
msgstr ""
"<literal>Quarterly</literal> 分支为用户提供了更可预测和更稳定的 port "
"和软件包安装和升级体验。这主要是通过只允许非功能更新来实现的。季度(Quarterly)分支的目标是接收安全修复 (可能是版本更新， 或提交的回溯)、 "
"错误修复和 port 合规性或框架变化。季度分支在每个（年）季度的1月、4月、7月和10月开始时从HEAD中切出。分支是根据它们创建的年份 (YYYY) "
"和季度 (Q1-4) 来命名的。例如，在2016年1月创建的季度分支，被命名为2016Q1。而<literal>Latest</literal>分支则为用"
"户提供最新版本的软件包。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:302
msgid "To switch from quarterly to latest run the following commands:"
msgstr "要从 quarterly 切换到 latest，请执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:307
#, no-wrap
msgid ""
"# mkdir -p /usr/local/etc/pkg/repos\n"
"# cp /etc/pkg/FreeBSD.conf /usr/local/etc/pkg/repos/FreeBSD.conf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:310
msgid ""
"Edit the file [.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# and change "
"the string _quarterly_ to _latest_ in the `url:` line."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:312
msgid "The result should be similar to the following:"
msgstr "输出像这样："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:322
#, fuzzy, no-wrap
msgid ""
"FreeBSD: {\n"
"  url: \"pkg+http://pkg.FreeBSD.org/${ABI}/latest\",\n"
"  mirror_type: \"srv\",\n"
"  signature_type: \"fingerprints\",\n"
"  fingerprints: \"/usr/share/keys/pkg\",\n"
"  enabled: yes\n"
"}\n"
msgstr ""
"FreeBSD: {\n"
"  url: \"pkg+http://pkg.FreeBSD.org/${ABI}/latest\",\n"
"  mirror_type: \"srv\",\n"
"  signature_type: \"fingerprints\",\n"
"  fingerprints: \"/usr/share/keys/pkg\",\n"
"  enabled: yes\n"
"}\n"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:325
msgid ""
"And finally run this command to update from the new (latest) repository "
"metadata."
msgstr "最后运行这个命令来强制刷新源的元数据。"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:329
#, no-wrap
msgid "# pkg update -f\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:332
#, no-wrap
msgid "Obtaining Information About Installed Packages"
msgstr "取得有关已安装套件的信息"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:335
msgid ""
"Information about the packages installed on a system can be viewed by "
"running `pkg info` which, when run without any switches, will list the "
"package version for either all installed packages or the specified package."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:337
msgid "For example, to see which version of pkg is installed, run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:342
#, no-wrap
msgid ""
"# pkg info pkg\n"
"pkg-1.1.4_1\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:345
#, no-wrap
msgid "Installing and Removing Packages"
msgstr "安装和删除软件包"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:348
msgid ""
"To install a binary package use the following command, where _packagename_ "
"is the name of the package to install:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:352
#, no-wrap
msgid "# pkg install packagename\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:355
msgid ""
"This command uses repository data to determine which version of the software "
"to install and if it has any uninstalled dependencies. For example, to "
"install curl:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:361
#, no-wrap
msgid ""
"# pkg install curl\n"
"Updating repository catalogue\n"
"/usr/local/tmp/All/curl-7.31.0_1.txz          100% of 1181 kB 1380 kBps "
"00m01s\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:363
#, no-wrap
msgid ""
"/usr/local/tmp/All/ca_root_nss-3.15.1_1.txz   100% of  288 kB 1700 kBps "
"00m00s\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:366
#, no-wrap
msgid ""
"Updating repository catalogue\n"
"The following 2 packages will be installed:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:369
#, no-wrap
msgid ""
"        Installing ca_root_nss: 3.15.1_1\n"
"        Installing curl: 7.31.0_1\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:371
#, no-wrap
msgid "The installation will require 3 MB more space\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:373
#, no-wrap
msgid "0 B to be downloaded\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:379
#, no-wrap
msgid ""
"Proceed with installing packages [y/N]: y\n"
"Checking integrity... done\n"
"[1/2] Installing ca_root_nss-3.15.1_1... done\n"
"[2/2] Installing curl-7.31.0_1... done\n"
"Cleaning up cache files...Done\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:382
msgid ""
"The new package and any additional packages that were installed as "
"dependencies can be seen in the installed packages list:"
msgstr "新的套件以及任何做为相依安装的额外套件可在已安装的套件清单中看到："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:389
#, no-wrap
msgid ""
"# pkg info\n"
"ca_root_nss-3.15.1_1\tThe root certificate bundle from the Mozilla Project\n"
"curl-7.31.0_1\tNon-interactive tool to get files from FTP, GOPHER, HTTP(S) "
"servers\n"
"pkg-1.1.4_6\tNew generation package manager\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:392
msgid ""
"Packages that are no longer needed can be removed with `pkg delete`. For "
"example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:397
#, no-wrap
msgid ""
"# pkg delete curl\n"
"The following packages will be deleted:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:399
#, no-wrap
msgid "\tcurl-7.31.0_1\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:401
#, no-wrap
msgid "The deletion will free 3 MB\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:404
#, no-wrap
msgid ""
"Proceed with deleting packages [y/N]: y\n"
"[1/1] Deleting curl-7.31.0_1... done\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:407
#, no-wrap
msgid "Upgrading Installed Packages"
msgstr "升级已安装套件"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:410
msgid "Installed packages can be upgraded to their latest versions by running:"
msgstr "执行以下指令，可将已安装的套件升级到最新版本："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:414
#, no-wrap
msgid "# pkg upgrade\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:417
msgid ""
"This command will compare the installed versions with those available in the "
"repository catalogue and upgrade them from the repository."
msgstr "这个指令将会比对已安装的版本与在文件库分类中的版本，并从文件库升级这些套件。"

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:419
#, no-wrap
msgid "Auditing Installed Packages"
msgstr "稽查已安装套件"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:422
#, fuzzy
msgid ""
"Software vulnerabilities are regularly discovered in third-party "
"applications. To address this, pkg includes a built-in auditing "
"mechanism. To determine if there are any known vulnerabilities for the "
"software installed on the system, run:"
msgstr ""
"在第三方的应用程序中偶尔可能会发现软件漏洞，要找出这些程序，可使用<application>pkg</application>内置的稽查机制。要查询已安装"
"在系统上的软件是否有任何已知的漏洞可执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:426
#, no-wrap
msgid "# pkg audit -F\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:429
#, no-wrap
msgid "Automatically Removing Unused Packages"
msgstr "自动删除未使用的软件包"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:432
msgid ""
"Removing a package may leave behind dependencies which are no longer "
"required. Unneeded packages that were installed as dependencies (leaf "
"packages) can be automatically detected and removed using:"
msgstr "删除软件包可能会留下不需要的依赖项。可以使用以下方法自动检测和删除不需要的依赖（leaf packages）："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:438
#, no-wrap
msgid ""
"# pkg autoremove\n"
"Packages to be autoremoved:\n"
"\tca_root_nss-3.15.1_1\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:440
#, no-wrap
msgid "The autoremoval will free 723 kB\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:443
#, no-wrap
msgid ""
"Proceed with autoremoval of packages [y/N]: y\n"
"Deinstalling ca_root_nss-3.15.1_1... done\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:446
msgid ""
"Packages installed as dependencies are called _automatic_ "
"packages. Non-automatic packages, i.e the packages that were explicity "
"installed not as a dependency to another package, can be listed using:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:453
#, no-wrap
msgid ""
"# pkg prime-list\n"
"nginx\n"
"openvpn\n"
"sudo\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:456
msgid ""
"`pkg prime-list` is an alias command declared in "
"[.filename]#/usr/local/etc/pkg.conf#. There are many others that can be used "
"to query the package database of the system. For instance, command `pkg "
"prime-origins` can be used to get the origin port directory of the list "
"mentioned above:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:463
#, no-wrap
msgid ""
"# pkg prime-origins\n"
"www/nginx\n"
"security/openvpn\n"
"security/sudo\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:466
#, fuzzy
msgid ""
"This list can be used to rebuild all packages installed on a system using "
"build tools such as package:ports-mgmt/poudriere[] or "
"package:ports-mgmt/synth[]."
msgstr ""
"此列表可用于使用构建工具（如<package> ports-mgmt/poudriere</package>，<package> ports-mgmt/"
"synth</package>）等构建工具重建系统上安装的所有包。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:468
msgid "Marking an installed package as automatic can be done using:"
msgstr "将已安装的软件包标记为自动包："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:472
#, no-wrap
msgid "# pkg set -A 1 devel/cmake\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:475
msgid ""
"Once a package is a leaf package and is marked as automatic, it gets "
"selected by `pkg autoremove`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:477
msgid "Marking an installed package as _not_ automatic can be done using:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:481
#, no-wrap
msgid "# pkg set -A 0 devel/cmake\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:484
#, no-wrap
msgid "Restoring the Package Database"
msgstr "还原套件数据库"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:487
msgid ""
"Unlike the traditional package management system, pkg includes its own "
"package database backup mechanism. This functionality is enabled by default."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:492
msgid ""
"To disable the periodic script from backing up the package database, set "
"`daily_backup_pkgdb_enable=\"NO\"` in man:periodic.conf[5]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:495
msgid ""
"To restore the contents of a previous package database backup, run the "
"following command replacing _/path/to/pkg.sql_ with the location of the "
"backup:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:499
#, no-wrap
msgid "# pkg backup -r /path/to/pkg.sql\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:504
msgid ""
"If restoring a backup taken by the periodic script, it must be decompressed "
"prior to being restored."
msgstr "若要还原有周期Script所产生的备份必须在还原前先解压缩。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:507
msgid ""
"To run a manual backup of the pkg database, run the following command, "
"replacing _/path/to/pkg.sql_ with a suitable file name and location:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:511
#, no-wrap
msgid "# pkg backup -d /path/to/pkg.sql\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:514
#, no-wrap
msgid "Removing Stale Packages"
msgstr "移除过时的套件"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:517
msgid ""
"By default, pkg stores binary packages in a cache directory defined by "
"`PKG_CACHEDIR` in man:pkg.conf[5]. Only copies of the latest installed "
"packages are kept. Older versions of pkg kept all previous packages. To "
"remove these outdated binary packages, run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:521
#, no-wrap
msgid "# pkg clean\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:524
msgid "The entire cache may be cleared by running:"
msgstr "使用以下指令可清空全部的缓存："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:528
#, no-wrap
msgid "# pkg clean -a\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:531
#, no-wrap
msgid "Modifying Package Metadata"
msgstr "修改套件Metadata"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:534
msgid ""
"Software within the FreeBSD Ports Collection can undergo major version "
"number changes. To address this, pkg has a built-in command to update "
"package origins. This can be useful, for example, if package:lang/php5[] is "
"renamed to package:lang/php53[] so that package:lang/php5[] can now "
"represent version `5.4`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:536
msgid "To change the package origin for the above example, run:"
msgstr "要更改上述例子中的套件来源，可执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:540
#, no-wrap
msgid "# pkg set -o lang/php5:lang/php53\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:543
msgid ""
"As another example, to update package:lang/ruby18[] to "
"package:lang/ruby19[], run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:547
#, no-wrap
msgid "# pkg set -o lang/ruby18:lang/ruby19\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:550
msgid ""
"As a final example, to change the origin of the [.filename]#libglut# shared "
"libraries from package:graphics/libglut[] to package:graphics/freeglut[], "
"run:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:554
#, no-wrap
msgid "# pkg set -o graphics/libglut:graphics/freeglut\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:559
msgid ""
"When changing package origins, it is important to reinstall packages that "
"are dependent on the package with the modified origin. To force a "
"reinstallation of dependent packages, run:"
msgstr "在更改套件来源之后，很重要的一件事是要重新安装套件，来让相依的套件也同时使用修改后的来源。要强制重新安装相依套件，可执行："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:563
#, no-wrap
msgid "# pkg install -Rf graphics/freeglut\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:568
#, no-wrap
msgid "Using the Ports Collection"
msgstr "使用Port套件集"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:571
msgid ""
"The Ports Collection is a set of [.filename]#Makefiles#, patches, and "
"description files. Each set of these files is used to compile and install an "
"individual application on FreeBSD, and is called a _port_."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:573
#, fuzzy
msgid ""
"By default, the Ports Collection itself is stored as a subdirectory of "
"[.filename]#/usr/ports#."
msgstr "预设，Port套件集储存在<filename>/usr/ports</filename>的子目录下。"

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:575
msgid ""
"Before an application can be compiled using a port, the Ports Collection "
"must first be installed. If it was not installed during the installation of "
"FreeBSD, use one of the following methods to install it:"
msgstr "在应用程序可以使用Port编译之前，必须先安装Port套件集。若在安装FreeBSD时没有安装，可以使用以下其中一种方式安装："

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:580
#, no-wrap
msgid "*Procedure: Portsnap Method*\n"
msgstr ""

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:582
msgid ""
"The base system of FreeBSD includes Portsnap. This is a fast and "
"user-friendly tool for retrieving the Ports Collection and is the "
"recommended choice for most users. This utility connects to a FreeBSD site, "
"verifies the secure key, and downloads a new copy of the Ports "
"Collection. The key is used to verify the integrity of all downloaded files."
msgstr ""

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:584
#, fuzzy
msgid ""
"To download a compressed snapshot of the Ports Collection into "
"[.filename]#/var/db/portsnap#:"
msgstr "要下载压缩后的Port套件集快照（Snapshot）到<filename>/var/db/portsnap</filename>："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:588
#, no-wrap
msgid "# portsnap fetch\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:591
msgid ""
"When running Portsnap for the first time, extract the snapshot into "
"[.filename]#/usr/ports#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:595
#, no-wrap
msgid "# portsnap extract\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:598
msgid ""
"After the first use of Portsnap has been completed as shown above, "
"[.filename]#/usr/ports# can be updated as needed by running:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:603
#, no-wrap
msgid ""
"# portsnap fetch\n"
"# portsnap update\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:606
msgid ""
"When using `fetch`, the `extract` or the `update` operation may be run "
"consecutively, like so:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:610
#, no-wrap
msgid "# portsnap fetch update\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:617
#, no-wrap
msgid "*Procedure: Subversion Method*\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:619
msgid ""
"If more control over the ports tree is needed or if local changes need to be "
"maintained, Subversion can be used to obtain the Ports Collection. Refer to "
"link:{committers-guide}#subversion-primer[the Subversion Primer] for a "
"detailed description of Subversion."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:621
msgid ""
"Subversion must be installed before it can be used to check out the ports "
"tree. If a copy of the ports tree is already present, install Subversion "
"like this:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:626
#, no-wrap
msgid ""
"# cd /usr/ports/devel/subversion\n"
"# make install clean\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:629
msgid ""
"  If the ports tree is not available, or pkg is being used to manage "
"packages, Subversion can be installed as a package:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:633
#, no-wrap
msgid "# pkg install subversion\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:636
msgid "Check out a copy of the ports tree:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:640
#, no-wrap
msgid "# svn checkout https://svn.FreeBSD.org/ports/head /usr/ports\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:643
msgid ""
"As needed, update [.filename]#/usr/ports# after the initial Subversion "
"checkout:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:647
#, no-wrap
msgid "# svn update /usr/ports\n"
msgstr ""

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:651
#, fuzzy
msgid ""
"The Ports Collection contains directories for software categories. Inside "
"each category are subdirectories for individual applications. Each "
"application subdirectory contains a set of files that tells FreeBSD how to "
"compile and install that program, called a _ports skeleton_. Each port "
"skeleton includes these files and directories:"
msgstr ""
"Port套件集中含有代表不同软件分类的目录，每个分类底下的子目录代表每个应用程序，"
"每个内含数个用来告诉FreeBSD如何编译与安装该程序文件的应用程序子目录即称作<emphasis>Port Skeleton</emphasis>，"
"每个Port Skeleton会含有以下文件及目录："

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:653
#, fuzzy
msgid ""
"[.filename]#Makefile#: contains statements that specify how the application "
"should be compiled and where its components should be installed."
msgstr "<filename>Makefile</filename>：内含用来说明应用程序要如何编译、要安装该程序到那的叙述句。"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:654
#, fuzzy
msgid ""
"[.filename]#distinfo#: contains the names and checksums of the files that "
"must be downloaded to build the port."
msgstr "<filename>distinfo</filename>：内含编译Port必须下载的文件名称以及校验码（Checksum）。"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:655
#, fuzzy
msgid ""
"[.filename]#files/#: this directory contains any patches needed for the "
"program to compile and install on FreeBSD. This directory may also contain "
"other files used to build the port."
msgstr ""
"<filename>files/"
"</filename>：此目录含有编译与安装程序到FreeBSD时所需的修补档。此目录也可能含有其他用来编译Port的文件。"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:656
#, fuzzy
msgid "[.filename]#pkg-descr#: provides a more detailed description of the program."
msgstr "<filename>pkg-descr</filename>：提供程序更详细的说明。"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:657
#, fuzzy
msgid ""
"[.filename]#pkg-plist#: a list of all the files that will be installed by "
"the port. It also tells the ports system which files to remove upon "
"deinstallation."
msgstr "<filename>pkg-plist</filename>:Port安装的所有文件清单，也同时会告诉Port系统卸载时要移除那一些文件。"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:659
msgid ""
"Some ports include [.filename]#pkg-message# or other files to handle special "
"situations. For more details on these files, and on ports in general, refer "
"to the link:{porters-handbook}[FreeBSD Porter's Handbook]."
msgstr ""

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:661
msgid ""
"The port does not include the actual source code, also known as a "
"[.filename]#distfile#. The extract portion of building a port will "
"automatically save the downloaded source to "
"[.filename]#/usr/ports/distfiles#."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:663
#, no-wrap
msgid "Installing Ports"
msgstr "安装Port"

#. type: delimited block * 4
#: documentation/content/en/books/handbook/ports/_index.adoc:666
msgid ""
"This section provides basic instructions on using the Ports Collection to "
"install or remove software. The detailed description of available `make` "
"targets and environment variables is available in man:ports[7]."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:671
msgid ""
"Before compiling any port, be sure to update the Ports Collection as "
"described in the previous section. Since the installation of any third-party "
"software can introduce security vulnerabilities, it is recommended to first "
"check https://vuxml.freebsd.org/[] for known security issues related to the "
"port. Alternately, run `pkg audit -F` before installing a new port. This "
"command can be configured to automatically perform a security audit and an "
"update of the vulnerability database during the daily security system "
"check. For more information, refer to man:pkg-audit[8] and man:periodic[8]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:674
msgid ""
"Using the Ports Collection assumes a working Internet connection. It also "
"requires superuser privilege."
msgstr "使用Port套件集会假设您拥有可正常联机的网络，同时也会需要超级使用者的权限。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:676
#, fuzzy
msgid ""
"To compile and install the port, change to the directory of the port to be "
"installed, then type `make install` at the prompt. Messages will indicate "
"the progress:"
msgstr ""
"要编译并安装Port，需切换目录到要安装的Port底下，然后输入<command>make install</command>，信息中会显示安装的进度："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:698
#, no-wrap
msgid ""
"# cd /usr/ports/sysutils/lsof\n"
"# make install\n"
">> lsof_4.88D.freebsd.tar.gz doesn't seem to exist in "
"/usr/ports/distfiles/.\n"
">> Attempting to fetch from "
"ftp://lsof.itap.purdue.edu/pub/tools/unix/lsof/.\n"
"===>  Extracting for lsof-4.88\n"
"...\n"
"[extraction output snipped]\n"
"...\n"
">> Checksum OK for lsof_4.88D.freebsd.tar.gz.\n"
"===>  Patching for lsof-4.88.d,8\n"
"===>  Applying FreeBSD patches for lsof-4.88.d,8\n"
"===>  Configuring for lsof-4.88.d,8\n"
"...\n"
"[configure output snipped]\n"
"...\n"
"===>  Building for lsof-4.88.d,8\n"
"...\n"
"[compilation output snipped]\n"
"...\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:711
#, no-wrap
msgid ""
"===>  Installing for lsof-4.88.d,8\n"
"...\n"
"[installation output snipped]\n"
"...\n"
"===>   Generating temporary packing list\n"
"===>   Compressing manual pages for lsof-4.88.d,8\n"
"===>   Registering installation for lsof-4.88.d,8\n"
"===>  SECURITY NOTE:\n"
"      This port has installed the following binaries which execute with\n"
"      increased privileges.\n"
"/usr/local/sbin/lsof\n"
"#\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:714
#, fuzzy
msgid ""
"Since `lsof` is a program that runs with increased privileges, a security "
"warning is displayed as it is installed. Once the installation is complete, "
"the prompt will be returned."
msgstr ""
"<command>lsof</command>是需要进阶权限才有办法执行的程序，因此当该程序安装完成时会显示安全性警告。一旦安装完成便会显示指令提示。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:716
#, fuzzy
msgid ""
"Some shells keep a cache of the commands that are available in the "
"directories listed in the `PATH` environment variable, to speed up lookup "
"operations for the executable file of these commands. Users of the `tcsh` "
"shell should type `rehash` so that a newly installed command can be used "
"without specifying its full path. Use `hash -r` instead for the `sh` "
"shell. Refer to the documentation for the shell for more information."
msgstr ""
"有些Shell会将<envar>PATH</envar>环境变数中所列目录中可用的指令做缓存，来增加在执行指这些指令时的查询速度。<command>tcs"
"h</command> "
"Shell的使用者应输入<command>rehash</command>来让新安装的指令不须指定完整路径便可使用。若在<command>sh</"
"command> Shell则使用<command>hash -r</command>。请参考Shell的说明文件以取得更多资讯。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:718
msgid ""
"During installation, a working subdirectory is created which contains all "
"the temporary files used during compilation. Removing this directory saves "
"disk space and minimizes the chance of problems later when upgrading to the "
"newer version of the port:"
msgstr "安装过程中会建立工作用的子目录用来储存编译时暂存的文件。可移除此目录来节省磁盘空间并渐少往后升级新版Port时造成问题："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:724
#, no-wrap
msgid ""
"# make clean\n"
"===>  Cleaning for lsof-88.d,8\n"
"#\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:729
msgid ""
"To save this extra step, instead use `make install clean` when compiling the "
"port."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/ports/_index.adoc:731
#, no-wrap
msgid "Customizing Ports Installation"
msgstr "自定义Port安装"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:734
msgid ""
"Some ports provide build options which can be used to enable or disable "
"application components, provide security options, or allow for other "
"customizations. Examples include package:www/firefox[], "
"package:security/gpgme[], and package:mail/sylpheed-claws[]. If the port "
"depends upon other ports which have configurable options, it may pause "
"several times for user interaction as the default behavior is to prompt the "
"user to select options from a menu. To avoid this and do all of the "
"configuration in one batch, run `make config-recursive` within the port "
"skeleton. Then, run `make install [clean]` to compile and install the port."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:739
msgid ""
"When using `config-recursive`, the list of ports to configure are gathered "
"by the `all-depends-list` target. It is recommended to run `make "
"config-recursive` until all dependent ports options have been defined, and "
"ports options screens no longer appear, to be certain that all dependency "
"options have been configured."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:742
msgid ""
"There are several ways to revisit a port's build options menu in order to "
"add, remove, or change these options after a port has been built. One method "
"is to `cd` into the directory containing the port and type `make "
"config`. Another option is to use `make showconfig`. Another option is to "
"execute `make rmconfig` which will remove all selected options and allow you "
"to start over. All of these options, and others, are explained in great "
"detail in man:ports[7]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:744
msgid ""
"The ports system uses man:fetch[1] to download the source files, which "
"supports various environment variables. The `FTP_PASSIVE_MODE`, `FTP_PROXY`, "
"and `FTP_PASSWORD` variables may need to be set if the FreeBSD system is "
"behind a firewall or FTP/HTTP proxy. See man:fetch[3] for the complete list "
"of supported variables."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:746
msgid ""
"For users who cannot be connected to the Internet all the time, `make fetch` "
"can be run within [.filename]#/usr/ports#, to fetch all distfiles, or within "
"a category, such as [.filename]#/usr/ports/net#, or within the specific port "
"skeleton. Note that if a port has any dependencies, running this command in "
"a category or ports skeleton will _not_ fetch the distfiles of ports from "
"another category. Instead, use `make fetch-recursive` to also fetch the "
"distfiles for all the dependencies of a port."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:748
#, fuzzy
msgid ""
"In rare cases, such as when an organization has a local distfiles "
"repository, the `MASTER_SITES` variable can be used to override the download "
"locations specified in the [.filename]#Makefile#. When using, specify the "
"alternate location:"
msgstr ""
"在部份少数情况，例如当公司或组织有自己的本地distfiles文件库，可使用<varname>MASTER_SITES</varname>变数来覆盖在<f"
"ilename>Makefile</filename>中指定的下载位址。当要指定替代的位址时可："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:754
#, no-wrap
msgid ""
"# cd /usr/ports/directory\n"
"# make MASTER_SITE_OVERRIDE= \\\n"
"ftp://ftp.organization.org/pub/FreeBSD/ports/distfiles/ fetch\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:757
msgid ""
"The `WRKDIRPREFIX` and `PREFIX` variables can override the default working "
"and target directories. For example:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:761
#, no-wrap
msgid "# make WRKDIRPREFIX=/usr/home/example/ports install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:764
msgid ""
"will compile the port in [.filename]#/usr/home/example/ports# and install "
"everything under [.filename]#/usr/local#."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:768
#, no-wrap
msgid "# make PREFIX=/usr/home/example/local install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:771
msgid ""
"will compile the port in [.filename]#/usr/ports# and install it in "
"[.filename]#/usr/home/example/local#. And:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:775
#, no-wrap
msgid "# make WRKDIRPREFIX=../ports PREFIX=../local install\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:778
msgid "will combine the two."
msgstr "来同时设定工作及目标目录。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:780
msgid ""
"These can also be set as environmental variables. Refer to the manual page "
"for your shell for instructions on how to set an environmental variable."
msgstr "这些变数也可做为环境变数设定，请参考您使用的Shell操作手册来取得如何设定环境变数的说明。"

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:782
#, no-wrap
msgid "Removing Installed Ports"
msgstr "移除已安装的Port"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:785
msgid ""
"Installed ports can be uninstalled using `pkg delete`. Examples for using "
"this command can be found in the man:pkg-delete[8] manual page."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:787
msgid "Alternately, `make deinstall` can be run in the port's directory:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:795
#, no-wrap
msgid ""
"# cd /usr/ports/sysutils/lsof\n"
"# make deinstall\n"
"===>  Deinstalling for sysutils/lsof\n"
"===>   Deinstalling\n"
"Deinstallation has been requested for the following 1 packages:\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:797
#, no-wrap
msgid "\tlsof-4.88.d,8\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:800
#, no-wrap
msgid ""
"The deinstallation will free 229 kB\n"
"[1/1] Deleting lsof-4.88.d,8... done\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:803
msgid ""
"It is recommended to read the messages as the port is uninstalled. If the "
"port has any applications that depend upon it, this information will be "
"displayed but the uninstallation will proceed. In such cases, it may be "
"better to reinstall the application in order to prevent broken dependencies."
msgstr ""
"建议阅读Port解除安装后的信息，若有任何相依该Port的应用程序，这些信息会被显示出来，但卸载的程序仍会继续。在这种情况下最好重新安装应用程序来避免破坏"
"相依性。"

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:805
#, no-wrap
msgid "Upgrading Ports"
msgstr "升级Port"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:808
msgid ""
"Over time, newer versions of software become available in the Ports "
"Collection. This section describes how to determine which software can be "
"upgraded and how to perform the upgrade."
msgstr "随着时间推移，Port套件集中会有新版的软件可用。本节将说明如何检查是否有可以升级的软件及如何升级。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:810
msgid ""
"To determine if newer versions of installed ports are available, ensure that "
"the latest version of the ports tree is installed, using the updating "
"command described in either <<ports-using-portsnap-method, “Portsnap "
"Method”>> or <<ports-using-subversion-method, “Subversion Method”>>. On "
"FreeBSD 10 and later, or if the system has been converted to pkg, the "
"following command will list the installed ports which are out of date:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:814
#, no-wrap
msgid "# pkg version -l \"<\"\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:817
msgid ""
"For FreeBSD 9._X_ and lower, the following command will list the installed "
"ports that are out of date:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:821
#, no-wrap
msgid "# pkg_version -l \"<\"\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:826
#, fuzzy
msgid ""
"Before attempting an upgrade, read [.filename]#/usr/ports/UPDATING# from the "
"top of the file to the date closest to the last time ports were upgraded or "
"the system was installed. This file describes various issues and additional "
"steps users may encounter and need to perform when updating a port, "
"including such things as file format changes, changes in locations of "
"configuration files, or any incompatibilities with previous versions. Make "
"note of any instructions which match any of the ports that need upgrading "
"and follow these instructions when performing the upgrade."
msgstr ""
"在尝试升级之前，请先从档首阅读<filename>/usr/ports/UPDATING</filename>来取得最近有那些Port已升级或系统已安装。"
"这个文件中会说明各种问题及在升级Port时可能会需要使用者执行的额外步骤，例如文件格式更改、配置文件位置更改、或任何与先前版本不兼容的问题。留意那些与您要"
"升级Port相关的指示，并依照这些指示执行升级。"

#. type: Title ====
#: documentation/content/en/books/handbook/ports/_index.adoc:829
#, no-wrap
msgid "Tools to Upgrade and Manage Ports"
msgstr "升级与管理Port的工具"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:832
msgid ""
"The Ports Collection contains several utilities to perform the actual "
"upgrade. Each has its strengths and weaknesses."
msgstr "Port套件集含有数个工具可以进行升级，每一种工具都有其优点及缺点。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:834
msgid ""
"Historically, most installations used either Portmaster or "
"Portupgrade. Synth is a newer alternative."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:838
msgid ""
"The choice of which tool is best for a particular system is up to the system "
"administrator. It is recommended practice to back up your data before using "
"any of these tools."
msgstr "那一种工具对特定系统是最佳的选择取决于系统管理员。建议在使用任何这些工具之前先备份数据。"

#. type: Title ====
#: documentation/content/en/books/handbook/ports/_index.adoc:841
#, no-wrap
msgid "Upgrading Ports Using Portmaster"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:844
#, fuzzy
msgid ""
"package:ports-mgmt/portmaster[] is a very small utility for upgrading "
"installed ports. It is designed to use the tools installed with the FreeBSD "
"base system without depending on other ports or databases. To install this "
"utility as a port:"
msgstr ""
"<package>ports-mgmt/portmaster</package>是可用来升级已安装Port的小巧工具，它只使用了随FreeBSD基础系统安"
"装的工具，不需要相依其他Port或数据库便可在FreeBSD使用，要使用Port安装此工具可："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:849
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/portmaster\n"
"# make install clean\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:852
msgid "Portmaster defines four categories of ports:"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:854
msgid "Root port: has no dependencies and is not a dependency of any other ports."
msgstr "根Port：没有相依且也不被任何其他Port相依。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:855
msgid "Trunk port: has no dependencies, but other ports depend upon it."
msgstr "主干Port：没有相依，但被其他Port相依。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:856
msgid "Branch port: has dependencies and other ports depend upon it."
msgstr "分支Port：有相依，且其被其他Port相依。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:857
msgid "Leaf port: has dependencies but no other ports depend upon it."
msgstr "枝Port：有相依，但没有被其他Port相依。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:859
msgid "To list these categories and search for updates:"
msgstr "要列出这几个分类并搜寻是否有新版："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:880
#, no-wrap
msgid ""
"# portmaster -L\n"
"===>>> Root ports (No dependencies, not depended on)\n"
"===>>> ispell-3.2.06_18\n"
"===>>> screen-4.0.3\n"
"        ===>>> New version available: screen-4.0.3_1\n"
"===>>> tcpflow-0.21_1\n"
"===>>> 7 root ports\n"
"...\n"
"===>>> Branch ports (Have dependencies, are depended on)\n"
"===>>> apache22-2.2.3\n"
"        ===>>> New version available: apache22-2.2.8\n"
"...\n"
"===>>> Leaf ports (Have dependencies, not depended on)\n"
"===>>> automake-1.9.6_2\n"
"===>>> bash-3.1.17\n"
"        ===>>> New version available: bash-3.2.33\n"
"...\n"
"===>>> 32 leaf ports\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:883
#, no-wrap
msgid ""
"===>>> 137 total installed ports\n"
"        ===>>> 83 have new versions available\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:886
msgid "This command is used to upgrade all outdated ports:"
msgstr "此指令用来升级所有过时的Port："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:890
#, no-wrap
msgid "# portmaster -a\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:895
msgid ""
"By default, Portmaster makes a backup package before deleting the existing "
"port. If the installation of the new version is successful, Portmaster "
"deletes the backup. Using `-b` instructs Portmaster not to automatically "
"delete the backup. Adding `-i` starts Portmaster in interactive mode, "
"prompting for confirmation before upgrading each port. Many other options "
"are available. Read through the manual page for man:portmaster[8] for "
"details regarding their usage."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:898
msgid ""
"If errors are encountered during the upgrade process, add `-f` to upgrade "
"and rebuild all ports:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:902
#, no-wrap
msgid "# portmaster -af\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:905
#, fuzzy
msgid ""
"Portmaster can also be used to install new ports on the system, upgrading "
"all dependencies before building and installing the new port. To use this "
"function, specify the location of the port in the Ports Collection:"
msgstr ""
"<application>Portmaster</application>也可用来安装新的Port到系统，在编译及安装新Port前升级所有相依模块。要使用"
"这个功能，要指定Port位于Port套件集中的位置："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:909
#, no-wrap
msgid "# portmaster shells/bash\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:912
msgid ""
"More information about package:ports-mgmt/portmaster[] may be found in its "
"[.filename]#pkg-descr#."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/handbook/ports/_index.adoc:914
#, no-wrap
msgid "Upgrading Ports Using Portupgrade"
msgstr "使用Portupgrade升级Port"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:917
#, fuzzy
msgid ""
"package:ports-mgmt/portupgrade[] is another utility that can be used to "
"upgrade ports. It installs a suite of applications which can be used to "
"manage ports. However, it is dependent upon Ruby. To install the port:"
msgstr ""
"<package>ports-mgmt/portupgrade</package>是另一个可以用来升级Port的工具，此工具会安装一套可以用来管理Port"
"的应用程序，它需要相依Ruby。要安装该Port："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:922
#, no-wrap
msgid ""
"# cd /usr/ports/ports-mgmt/portupgrade\n"
"# make install clean\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:925
#, fuzzy
msgid ""
"Before performing an upgrade using this utility, it is recommended to scan "
"the list of installed ports using `pkgdb -F` and to fix all the "
"inconsistencies it reports."
msgstr ""
"在执行升级之前使用此工具，建议使用<command>pkgdb -F</command>扫描已安装的Port并修正该指令回报的所有信息不一致的套件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:927
msgid ""
"To upgrade all the outdated ports installed on the system, use `portupgrade "
"-a`. Alternately, include `-i` to be asked for confirmation of every "
"individual upgrade:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:931
#, no-wrap
msgid "# portupgrade -ai\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:934
msgid ""
"To upgrade only a specified application instead of all available ports, use "
"`portupgrade _pkgname_`. It is very important to include `-R` to first "
"upgrade all the ports required by the given application:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:938
#, no-wrap
msgid "# portupgrade -R firefox\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:941
msgid ""
"If `-P` is included, Portupgrade searches for available packages in the "
"local directories listed in `PKG_PATH`. If none are available locally, it "
"then fetches packages from a remote site. If packages can not be found "
"locally or fetched remotely, Portupgrade will use ports. To avoid using "
"ports entirely, specify `-PP`. This last set of options tells Portupgrade to "
"abort if no packages are available:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:945
#, no-wrap
msgid "# portupgrade -PP gnome3\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:948
msgid ""
"To just fetch the port distfiles, or packages, if `-P` is specified, without "
"building or installing anything, use `-F`. For further information on all of "
"the available switches, refer to the manual page for `portupgrade`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:950
msgid ""
"More information about package:ports-mgmt/portupgrade[] may be found in its "
"[.filename]#pkg-descr#."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:952
#, no-wrap
msgid "Ports and Disk Space"
msgstr "Port与磁盘空间"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:955
msgid ""
"Using the Ports Collection will use up disk space over time. After building "
"and installing a port, running `make clean` within the ports skeleton will "
"clean up the temporary [.filename]#work# directory. If Portmaster is used to "
"install a port, it will automatically remove this directory unless `-K` is "
"specified. If Portupgrade is installed, this command will remove all "
"[.filename]#work# directories found within the local copy of the Ports "
"Collection:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:959
#, no-wrap
msgid "# portsclean -C\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:962
msgid ""
"In addition, outdated source distribution files accumulate in "
"[.filename]#/usr/ports/distfiles# over time. To use Portupgrade to delete "
"all the distfiles that are no longer referenced by any ports:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:966
#, no-wrap
msgid "# portsclean -D\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:969
msgid ""
"Portupgrade can remove all distfiles not referenced by any port currently "
"installed on the system:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:973
#, no-wrap
msgid "# portsclean -DD\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:976
msgid "If Portmaster is installed, use:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:980
#, no-wrap
msgid "# portmaster --clean-distfiles\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:983
msgid ""
"By default, this command is interactive and prompts the user to confirm if a "
"distfile should be deleted."
msgstr "预设，若distfile应要被删除，这个指令会以互动的方式向使用者确认。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:985
#, fuzzy
msgid ""
"In addition to these commands, package:ports-mgmt/pkg_cutleaves[] automates "
"the task of removing installed ports that are no longer needed."
msgstr "除了以上指令外，<package>ports-mgmt/pkg_cutleaves</package>可自动移除不再需要使用的Port。"

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:987
#, no-wrap
msgid "Building Packages with Poudriere"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:990
msgid ""
"Poudriere is a `BSD`-licensed utility for creating and testing FreeBSD "
"packages. It uses FreeBSD jails to set up isolated compilation "
"environments. These jails can be used to build packages for versions of "
"FreeBSD that are different from the system on which it is installed, and "
"also to build packages for i386 if the host is an amd64 system. Once the "
"packages are built, they are in a layout identical to the official "
"mirrors. These packages are usable by man:pkg[8] and other package "
"management tools."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:992
msgid ""
"Poudriere is installed using the package:ports-mgmt/poudriere[] package or "
"port. The installation includes a sample configuration file "
"[.filename]#/usr/local/etc/poudriere.conf.sample#. Copy this file to "
"[.filename]#/usr/local/etc/poudriere.conf#. Edit the copied file to suit the "
"local configuration."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:994
msgid ""
"While `ZFS` is not required on the system running poudriere, it is "
"beneficial. When `ZFS` is used, `ZPOOL` must be specified in "
"[.filename]#/usr/local/etc/poudriere.conf# and `FREEBSD_HOST` should be set "
"to a nearby mirror. Defining `CCACHE_DIR` enables the use of "
"package:devel/ccache[] to cache compilation and reduce build times for "
"frequently-compiled code. It may be convenient to put poudriere datasets in "
"an isolated tree mounted at [.filename]#/poudriere#. Defaults for the other "
"configuration values are adequate."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:996
#, fuzzy
msgid ""
"The number of processor cores detected is used to define how many builds "
"will run in parallel. Supply enough virtual memory, either with `RAM` or "
"swap space. If virtual memory runs out, the compilation jails will stop and "
"be torn down, resulting in weird error messages."
msgstr ""
"侦测到的处理器数量可用来定义要同时执行多少个编译。并给予足够的虚拟內存，不论是<acronym>RAM</acronym>或交换空间，若虚拟內存不足，编译"
"Jail的动作将会停止并被清除，会造成奇怪的错误讯息。"

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:998
#, no-wrap
msgid "Initialize Jails and Port Trees"
msgstr "初始化Jail与Port树"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1001
msgid ""
"After configuration, initialize poudriere so that it installs a jail with "
"the required FreeBSD tree and a ports tree. Specify a name for the jail "
"using `-j` and the FreeBSD version with `-v`. On systems running "
"FreeBSD/amd64, the architecture can be set with `-a` to either `i386` or "
"`amd64`. The default is the architecture shown by `uname`."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1048
#, fuzzy, no-wrap
msgid ""
"# poudriere jail -c -j 11amd64 -v 11.4-RELEASE\n"
"[00:00:00] Creating 11amd64 fs at /poudriere/jails/11amd64... done\n"
"[00:00:00] Using pre-distributed MANIFEST for FreeBSD 11.4-RELEASE amd64\n"
"[00:00:00] Fetching base for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/base.txz              125 MB 4110 kBps    "
"31s\n"
"[00:00:33] Extracting base... done\n"
"[00:00:54] Fetching src for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/src.txz               154 MB 4178 kBps    "
"38s\n"
"[00:01:33] Extracting src... done\n"
"[00:02:31] Fetching lib32 for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/lib32.txz              24 MB 3969 kBps    "
"06s\n"
"[00:02:38] Extracting lib32... done\n"
"[00:02:42] Cleaning up... done\n"
"[00:02:42] Recording filesystem state for clean... done\n"
"[00:02:42] Upgrading using ftp\n"
"/etc/resolv.conf -> /poudriere/jails/11amd64/etc/resolv.conf\n"
"Looking up update.FreeBSD.org mirrors... 3 mirrors found.\n"
"Fetching public key from update4.freebsd.org... done.\n"
"Fetching metadata signature for 11.4-RELEASE from "
"update4.freebsd.org... done.\n"
"Fetching metadata index... done.\n"
"Fetching 2 metadata files... done.\n"
"Inspecting system... done.\n"
"Preparing to download files... done.\n"
"Fetching 124 "
"patches.....10....20....30....40....50....60....70....80....90....100....110....120.. "
"done.\n"
"Applying patches... done.\n"
"Fetching 6 files... done.\n"
"The following files will be added as part of updating to\n"
"11.4-RELEASE-p1:\n"
"/usr/src/contrib/unbound/.github\n"
"/usr/src/contrib/unbound/.github/FUNDING.yml\n"
"/usr/src/contrib/unbound/contrib/drop2rpz\n"
"/usr/src/contrib/unbound/contrib/unbound_portable.service.in\n"
"/usr/src/contrib/unbound/services/rpz.c\n"
"/usr/src/contrib/unbound/services/rpz.h\n"
"/usr/src/lib/libc/tests/gen/spawnp_enoexec.sh\n"
"The following files will be updated as part of updating to\n"
"11.4-RELEASE-p1:\n"
"[…]\n"
"Installing updates...Scanning //usr/share/certs/blacklisted for "
"certificates...\n"
"Scanning //usr/share/certs/trusted for certificates...\n"
" done.\n"
"11.4-RELEASE-p1\n"
"[00:04:06] Recording filesystem state for clean... done\n"
"[00:04:07] Jail 11amd64 11.4-RELEASE-p1 amd64 is ready to be used\n"
msgstr ""
"<prompt>#</prompt> <userinput>poudriere jail -c -j <replaceable>11amd64</"
"replaceable> -v <replaceable>11.4-RELEASE</replaceable></userinput>\n"
"[00:00:00] Creating 11amd64 fs at /poudriere/jails/11amd64... done\n"
"[00:00:00] Using pre-distributed MANIFEST for FreeBSD 11.4-RELEASE amd64\n"
"[00:00:00] Fetching base for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/base.txz              125 MB 4110 kBps    "
"31s\n"
"[00:00:33] Extracting base... done\n"
"[00:00:54] Fetching src for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/src.txz               154 MB 4178 kBps    "
"38s\n"
"[00:01:33] Extracting src... done\n"
"[00:02:31] Fetching lib32 for FreeBSD 11.4-RELEASE amd64\n"
"/poudriere/jails/11amd64/fromftp/lib32.txz              24 MB 3969 kBps    "
"06s\n"
"[00:02:38] Extracting lib32... done\n"
"[00:02:42] Cleaning up... done\n"
"[00:02:42] Recording filesystem state for clean... done\n"
"[00:02:42] Upgrading using ftp\n"
"/etc/resolv.conf -&gt; /poudriere/jails/11amd64/etc/resolv.conf\n"
"Looking up update.FreeBSD.org mirrors... 3 mirrors found.\n"
"Fetching public key from update4.freebsd.org... done.\n"
"Fetching metadata signature for 11.4-RELEASE from update4.freebsd.org... "
"done.\n"
"Fetching metadata index... done.\n"
"Fetching 2 metadata files... done.\n"
"Inspecting system... done.\n"
"Preparing to download files... done.\n"
"Fetching 124 patches.....10....20....30....40....50....60....70....80....90.."
"..100....110....120.. done.\n"
"Applying patches... done.\n"
"Fetching 6 files... done.\n"
"The following files will be added as part of updating to\n"
"11.4-RELEASE-p1:\n"
"/usr/src/contrib/unbound/.github\n"
"/usr/src/contrib/unbound/.github/FUNDING.yml\n"
"/usr/src/contrib/unbound/contrib/drop2rpz\n"
"/usr/src/contrib/unbound/contrib/unbound_portable.service.in\n"
"/usr/src/contrib/unbound/services/rpz.c\n"
"/usr/src/contrib/unbound/services/rpz.h\n"
"/usr/src/lib/libc/tests/gen/spawnp_enoexec.sh\n"
"The following files will be updated as part of updating to\n"
"11.4-RELEASE-p1:\n"
"[…]\n"
"Installing updates...Scanning //usr/share/certs/blacklisted for "
"certificates...\n"
"Scanning //usr/share/certs/trusted for certificates...\n"
" done.\n"
"11.4-RELEASE-p1\n"
"[00:04:06] Recording filesystem state for clean... done\n"
"[00:04:07] Jail 11amd64 11.4-RELEASE-p1 amd64 is ready to be used\n"

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1055
#, no-wrap
msgid ""
"# poudriere ports -c -p local -m svn+https\n"
"[00:00:00] Creating local fs at /poudriere/ports/local... done\n"
"[00:00:00] Checking out the ports tree... done\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1058
msgid ""
"On a single computer, poudriere can build ports with multiple "
"configurations, in multiple jails, and from different port trees. Custom "
"configurations for these combinations are called _sets_. See the "
"CUSTOMIZATION section of man:poudriere[8] for details after "
"package:ports-mgmt/poudriere[] or package:ports-mgmt/poudriere-devel[] is "
"installed."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1060
msgid ""
"The basic configuration shown here puts a single jail-, port-, and "
"set-specific [.filename]#make.conf# in "
"[.filename]#/usr/local/etc/poudriere.d#. The filename in this example is "
"created by combining the jail name, port name, and set name: "
"[.filename]#10amd64-local-workstation-make.conf#. The system "
"[.filename]#make.conf# and this new file are combined at build time to "
"create the [.filename]#make.conf# used by the build jail."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1062
msgid ""
"Packages to be built are entered in "
"[.filename]#10amd64-local-workstation-pkglist#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1069
#, fuzzy, no-wrap
msgid ""
"editors/emacs\n"
"devel/git\n"
"ports-mgmt/pkg\n"
"...\n"
msgstr ""
"editors/emacs\n"
"devel/git\n"
"ports-mgmt/pkg\n"
"...\n"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1072
msgid "Options and dependencies for the specified ports are configured:"
msgstr "可使用以下方式设定选项及相依："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1076
#, no-wrap
msgid ""
"# poudriere options -j 10amd64 -p local -z workstation -f "
"10amd64-local-workstation-pkglist\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1079
msgid "Finally, packages are built and a package repository is created:"
msgstr "最后，编译套件并建立套件文件库："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1083
#, no-wrap
msgid ""
"# poudriere bulk -j 10amd64 -p local -z workstation -f "
"10amd64-local-workstation-pkglist\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1086
msgid ""
"While running, pressing kbd:[Ctrl+t] displays the current state of the "
"build. Poudriere also builds files in "
"[.filename]#/poudriere/logs/bulk/jailname# that can be used with a web "
"server to display build information."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1088
msgid ""
"After completion, the new packages are now available for installation from "
"the poudriere repository."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1090
msgid ""
"For more information on using poudriere, see man:poudriere[8] and the main "
"web site, https://github.com/freebsd/poudriere/wiki[]."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/handbook/ports/_index.adoc:1091
#, no-wrap
msgid "Configuring pkg Clients to Use a Poudriere Repository"
msgstr "设定pkg客户端使用Poudriere文件库"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1094
#, fuzzy
msgid ""
"While it is possible to use both a custom repository along side of the "
"official repository, sometimes it is useful to disable the official "
"repository. This is done by creating a configuration file that overrides and "
"disables the official configuration file. Create "
"[.filename]#/usr/local/etc/pkg/repos/FreeBSD.conf# that contains the "
"following:"
msgstr ""
"虽然可以同时使用自定义的文件库与官方文件库，但有时关闭官方文件库会有帮助。这可以透过建立一个配置文件覆盖并关闭官方的配置文件来完成。建立<filename"
">/usr/local/etc/pkg/repos/FreeBSD.conf</filename>包含以下内容："

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1100
#, fuzzy, no-wrap
msgid ""
"FreeBSD: {\n"
"\tenabled: no\n"
"}\n"
msgstr ""
"FreeBSD: {\n"
"\tenabled: no\n"
"}\n"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1103
msgid ""
"Usually it is easiest to serve a poudriere repository to the client machines "
"via HTTP. Set up a webserver to serve up the package directory, for "
"instance: [.filename]#/usr/local/poudriere/data/packages/10amd64#, where "
"[.filename]#10amd64# is the name of the build."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1105
msgid ""
"If the URL to the package repository is: `http://pkg.example.com/10amd64`, "
"then the repository configuration file in "
"[.filename]#/usr/local/etc/pkg/repos/custom.conf# would look like:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1112
#, no-wrap
msgid ""
"custom: {\n"
"\turl: \"http://pkg.example.com/10amd64\",\n"
"\tenabled: yes,\n"
"}\n"
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:1115
#, no-wrap
msgid "Post-Installation Considerations"
msgstr "安装后的注意事项"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1118
msgid ""
"Regardless of whether the software was installed from a binary package or "
"port, most third-party applications require some level of configuration "
"after installation. The following commands and locations can be used to help "
"determine what was installed with the application."
msgstr "不论软件是从套件或Port安装，大部份的第三方应用程序安装完后需要做某种程度的设定，下列指令与位置可以用来协助找到应用程序安装了什么。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1120
#, fuzzy
msgid ""
"Most applications install at least one default configuration file in "
"[.filename]#/usr/local/etc#. In cases where an application has a large "
"number of configuration files, a subdirectory will be created to hold "
"them. Often, sample configuration files are installed which end with a "
"suffix such as [.filename]#.sample#. The configuration files should be "
"reviewed and possibly edited to meet the system's needs. To edit a sample "
"file, first copy it without the [.filename]#.sample# extension."
msgstr ""
"大部份应用程序安装会在<filename>/usr/local/"
"etc</filename>安装至少一个预设的配置文件，若应用程序有大量配置文件的时则会建立一个子目录来存放这些配置文件。"
"示例的配置文件案名称通常使用<filename> .sample</filename>结尾，配置文件应要仔细查看并可能要做一些编辑让配置文件符合系统的需求"
"，要编辑配置文件模板前需先复制该文件并去除<filename>.sample</filename>扩展名。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1121
#, fuzzy
msgid ""
"Applications which provide documentation will install it into "
"[.filename]#/usr/local/shared/doc# and many applications also install manual "
"pages. This documentation should be consulted before continuing."
msgstr ""
"应用程序提供的文件会安装到<filename>/usr/local/share/"
"doc</filename>，且许多应用程序也同时会安装操作手册，在继续使用应用程序前应先查看这些文件。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1122
msgid ""
"Some applications run services which must be added to "
"[.filename]#/etc/rc.conf# before starting the application. These "
"applications usually install a startup script in "
"[.filename]#/usr/local/etc/rc.d#. See "
"crossref:config[configtuning-starting-services,Starting Services] for more "
"information."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1126
msgid ""
"By design, applications do not run their startup script upon installation, "
"nor do they run their stop script upon deinstallation or upgrade. This "
"decision is left to the individual system administrator."
msgstr "依设计，应用程序不会在安装时执行其启动Script，也不会在卸载或升级时执行其中止Script，这留给各系统的管理者去做决定。"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1129
msgid ""
"Users of man:csh[1] should run `rehash` to rebuild the known binary list in "
"the shells `PATH`."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1130
msgid ""
"Use `pkg info` to determine which files, man pages, and binaries were "
"installed with the application."
msgstr ""

#. type: Title ==
#: documentation/content/en/books/handbook/ports/_index.adoc:1132
#, no-wrap
msgid "Dealing with Broken Ports"
msgstr "处理损坏的Port"

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1135
msgid "When a port does not build or install, try the following:"
msgstr "当发现某个Port无法顺利编译或安装，可以尝试以下几种方法解决："

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1137
msgid ""
"Search to see if there is a fix pending for the port in the "
"link:https://www.FreeBSD.org/support/[Problem Report database]. If so, "
"implementing the proposed fix may fix the issue."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1138
msgid ""
"Ask the maintainer of the port for help. Type `make maintainer` in the ports "
"skeleton or read the port's [.filename]#Makefile# to find the maintainer's "
"email address. Remember to include the `$FreeBSD:` line from the port's "
"[.filename]#Makefile# and the output leading up to the error in the email to "
"the maintainer."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1142
msgid ""
"Some ports are not maintained by an individual but instead by a group "
"maintainer represented by a link:{mailing-list-faq}[mailing list]. Many, but "
"not all, of these addresses look like "
"mailto:freebsd-listname@FreeBSD.org[freebsd-listname@FreeBSD.org]. Please "
"take this into account when sending an email."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/books/handbook/ports/_index.adoc:1144
msgid ""
"In particular, ports maintained by "
"mailto:ports@FreeBSD.org[ports@FreeBSD.org] are not maintained by a specific "
"individual. Instead, any fixes and support come from the general community "
"who subscribe to that mailing list. More volunteers are always needed!"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1147
msgid ""
"  If there is no response to the email, use Bugzilla to submit a bug report "
"using the instructions in link:{problem-reports}[Writing FreeBSD Problem "
"Reports]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1148
msgid ""
"Fix it! The link:{porters-handbook}[Porter's Handbook] includes detailed "
"information on the ports infrastructure so that you can fix the occasional "
"broken port or even submit your own!"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/handbook/ports/_index.adoc:1148
msgid ""
"Install the package instead of the port using the instructions in "
"<<pkgng-intro>>."
msgstr ""
