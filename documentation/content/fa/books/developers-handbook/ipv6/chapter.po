# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.
#
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2021-02-21 18:54-0300\n"
"PO-Revision-Date: 2021-04-05 22:57+0000\n"
"Last-Translator: Anonymous <noreply@weblate.org>\n"
"Language-Team: Persian <https://translate-dev.freebsd.org/projects/"
"documentation/booksdevelopers-handbookipv6chapter/fa/>\n"
"Language: fa\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n > 1;\n"
"X-Generator: Weblate 4.5.2\n"

#. type: YAML Front Matter: title
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:1
#, no-wrap
msgid "Chapter 8. IPv6 Internals"
msgstr ""

#. type: Title =
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:10
#, no-wrap
msgid "IPv6 Internals"
msgstr "داخلی‌های IPv6"

#. type: Title ==
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:35
#, no-wrap
msgid "IPv6/IPsec Implementation"
msgstr "پیاده‌سازی IPv6/IPsec"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:38
msgid ""
"This section should explain IPv6 and IPsec related implementation "
"internals. These functionalities are derived from http://www.kame.net/[KAME "
"project]"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:40
#, no-wrap
msgid "IPv6"
msgstr "IPv6"

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:42
#, no-wrap
msgid "Conformance"
msgstr "انطباق"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:45
msgid ""
"The IPv6 related functions conforms, or tries to conform to the latest set "
"of IPv6 specifications. For future reference we list some of the relevant "
"documents below (_NOTE_: this is not a complete list - this is too hard to "
"maintain...)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:47
msgid ""
"For details please refer to specific chapter in the document, RFCs, manual "
"pages, or comments in the source code."
msgstr ""
"برای جزئیات خواهشمند است به فصل مشخص شده در مستندات، RFC ها، صفحات راهنما، "
"یا توضیحات موجود در کد منبع رجوع کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:49
msgid ""
"Conformance tests have been performed on the KAME STABLE kit at TAHI "
"project. Results can be viewed at "
"http://www.tahi.org/report/KAME/[http://www.tahi.org/report/KAME/]. We also "
"attended University of New Hampshire IOL tests "
"(http://www.iol.unh.edu/[http://www.iol.unh.edu/]) in the past, with our "
"past snapshots."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:51
msgid "RFC1639: FTP Operation Over Big Address Records (FOOBAR)"
msgstr "RFC1639: FTP Operation Over Big Address Records (FOOBAR)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:53
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:89
msgid ""
"RFC2428 is preferred over RFC1639. FTP clients will first try RFC2428, then "
"RFC1639 if failed."
msgstr ""
"RFC2428 به RFC1639 ترجیح داده می‌شود. کارخواهان FTP ابتدا RFC2428 را امتحان "
"می‌کنند، سپس چنانچه ناموفق بود به سراغ RFC1639 می‌روند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:55
msgid "RFC1886: DNS Extensions to support IPv6"
msgstr "RFC1886: پسوندهای سامانهٔ نام دامنه (DNS) برای پشتیبانی از IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:56
msgid "RFC1933: Transition Mechanisms for IPv6 Hosts and Routers"
msgstr "RFC1933: سازوکارهای انتقال برای میزبان‌ها و مسیریاب‌های IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:58
msgid "IPv4 compatible address is not supported."
msgstr "نشانی سازگار با IPv4 پشتیبانی نمی‌شود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:59
msgid "automatic tunneling (described in 4.3 of this RFC) is not supported."
msgstr "تونل‌زنی خودکار (توصیف شده در 4.3 از همین RFC) پشتیبانی نمی‌شود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:60
msgid ""
"man:gif[4] interface implements IPv[46]-over-IPv[46] tunnel in a generic "
"way, and it covers \"configured tunnel\" described in the spec. See "
"<<gif,23.5.1.5>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:62
msgid "RFC1981: Path MTU Discovery for IPv6"
msgstr "RFC1981: Path MTU Discovery برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:63
msgid "RFC2080: RIPng for IPv6"
msgstr "RFC2080: RIPng برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:65
msgid "usr.sbin/route6d support this."
msgstr "usr.sbin/route6d این را پشتیبانی می‌کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:67
msgid "RFC2292: Advanced Sockets API for IPv6"
msgstr "RFC2292: رابط‌ برنامه‌نویسی کاربردی سوکت‌های پیشرفته برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:69
msgid ""
"For supported library functions/kernel APIs, see "
"[.filename]#sys/netinet6/ADVAPI#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:71
msgid "RFC2362: Protocol Independent Multicast-Sparse Mode (PIM-SM)"
msgstr "RFC2362: Protocol Independent Multicast-Sparse Mode (PIM-SM)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:73
msgid ""
"RFC2362 defines packet formats for "
"PIM-SM. [.filename]#draft-ietf-pim-ipv6-01.txt# is written based on this."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:75
msgid "RFC2373: IPv6 Addressing Architecture"
msgstr "RFC2373: معماری نشانی‌دهی IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:77
msgid "supports node required addresses, and conforms to the scope requirement."
msgstr ""
"نشانی‌های نیازمند گره را پشتیبانی می‌کند، و با مطابق با نیازمندی حوزه است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:79
msgid "RFC2374: An IPv6 Aggregatable Global Unicast Address Format"
msgstr "RFC2374: یک قالب نشانی یونیکست جهانی قابل تجمیع IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:81
msgid "supports 64-bit length of Interface ID."
msgstr "شناسهٔ رابط با طول ۶۴ بیت را پشتیبانی می‌کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:83
msgid "RFC2375: IPv6 Multicast Address Assignments"
msgstr "RFC2375: تخصیص نشانی مالتی‌کست IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:85
msgid "Userland applications use the well-known addresses assigned in the RFC."
msgstr ""
"برنامه‌های محیط کاربری از نشانی‌های شناخته‌شدهٔ اختصاص داده شده در RFC "
"استفاده می‌کنند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:87
msgid "RFC2428: FTP Extensions for IPv6 and NATs"
msgstr "RFC2428: پسوندهای FTP برای IPv6 و NAT ها"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:91
msgid "RFC2460: IPv6 specification"
msgstr "RFC2460: مشخصات IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:92
msgid "RFC2461: Neighbor discovery for IPv6"
msgstr "RFC2461: کشف همسایه برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:94
msgid "See <<neighbor-discovery,23.5.1.2>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:96
msgid "RFC2462: IPv6 Stateless Address Autoconfiguration"
msgstr "RFC2462: پیکربندی خودکار نشانی بی‌حالت IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:98
msgid "See <<ipv6-pnp,23.5.1.4>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:100
msgid "RFC2463: ICMPv6 for IPv6 specification"
msgstr "RFC2463: ICMPv6 برای مشخصات IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:102
msgid "See <<icmpv6,23.5.1.9>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:104
msgid "RFC2464: Transmission of IPv6 Packets over Ethernet Networks"
msgstr "RFC2464: انتقال بسته‌های IPv6 بر روی شبکه‌های Ethernet"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:105
msgid "RFC2465: MIB for IPv6: Textual Conventions and General Group"
msgstr "RFC2465: MIB برای IPv6: قراردادهای متنی و گروه‌های عمومی"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:107
msgid ""
"Necessary statistics are gathered by the kernel. Actual IPv6 MIB support is "
"provided as a patchkit for ucd-snmp."
msgstr ""
"مقادیر لازم توسط هسته جمع‌آوری شده‌اند. پشتیبانی فعلی برای MIB در IPv6 به‌"
"عنوان یک patchkit برای ucd-snmp ارائه شده است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:109
msgid "RFC2466: MIB for IPv6: ICMPv6 group"
msgstr "RFC2466: MIB برای IPv6: گروه ICMPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:111
msgid ""
"Necessary statistics are gathered by the kernel. Actual IPv6 MIB support is "
"provided as patchkit for ucd-snmp."
msgstr ""
"مقادیر لازم توسط هسته جمع‌آوری شده‌اند. پشتیبانی فعلی برای MIB در IPv6 به‌"
"عنوان یک patchkit برای ucd-snmp ارائه شده است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:113
msgid "RFC2467: Transmission of IPv6 Packets over FDDI Networks"
msgstr "RFC2467: انتقال بسته‌‌های IPv6 بر روی شبکه‌های FDDI"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:114
msgid "RFC2497: Transmission of IPv6 packet over ARCnet Networks"
msgstr "RFC2464: انتقال بسته‌های IPv6 بر روی شبکه‌های ARCnet"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:115
msgid "RFC2553: Basic Socket Interface Extensions for IPv6"
msgstr "RFC2553: پسوندهای رابط سوکت پایه‌ای برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:117
msgid ""
"IPv4 mapped address (3.7) and special behavior of IPv6 wildcard bind socket "
"(3.8) are supported. See <<ipv6-wildcard-socket,23.5.1.12>> in this document "
"for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:119
msgid "RFC2675: IPv6 Jumbograms"
msgstr "RFC2675: Jumbogram های IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:121
msgid "See <<ipv6-jumbo,23.5.1.7>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:123
msgid "RFC2710: Multicast Listener Discovery for IPv6"
msgstr "RFC2710: کشف شنوندهٔ مالتی‌کست برای IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:124
msgid "RFC2711: IPv6 router alert option"
msgstr "RFC2711: گزینهٔ هشدار مسیریابِ IPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:125
msgid "[.filename]#draft-ietf-ipngwg-router-renum-08#: Router renumbering for IPv6"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:126
msgid ""
"[.filename]#draft-ietf-ipngwg-icmp-namelookups-02#: IPv6 Name Lookups "
"Through ICMP"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:127
msgid ""
"[.filename]#draft-ietf-ipngwg-icmp-name-lookups-03#: IPv6 Name Lookups "
"Through ICMP"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:128
msgid "[.filename]#draft-ietf-pim-ipv6-01.txt#: PIM for IPv6"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:130
msgid "man:pim6dd[8] implements dense mode. man:pim6sd[8] implements sparse mode."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:132
msgid ""
"[.filename]#draft-itojun-ipv6-tcp-to-anycast-00#: Disconnecting TCP "
"connection toward IPv6 anycast address"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:133
msgid "[.filename]#draft-yamamoto-wideipv6-comm-model-00#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:135
msgid "See <<ipv6-sas,23.5.1.6>> in this document for details."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:137
msgid ""
"[.filename]#draft-ietf-ipngwg-scopedaddr-format-00.txt#: An Extension of "
"Format for IPv6 Scoped Addresses"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:139
#, no-wrap
msgid "Neighbor Discovery"
msgstr "کشف همسایه"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:142
msgid ""
"Neighbor Discovery is fairly stable. Currently Address Resolution, "
"Duplicated Address Detection, and Neighbor Unreachability Detection are "
"supported. In the near future we will be adding Proxy Neighbor Advertisement "
"support in the kernel and Unsolicited Neighbor Advertisement transmission "
"command as admin tool."
msgstr ""
"کشف همسایه نسبتاً پایدار است. در حال حاضر تفکیک نشانی، تشخیص نشانی تکراری، و "
"تشخیص دسترسی‌ناپذیری همسایه پشتیبانی می‌شوند. در آیندهٔ نزدیک پشتیبانی از "
"اعلان همسایهٔ پراکسی در هسته و دستور انتقال اعلان همسایهٔ ناخواسته به‌عنوان "
"ابزار سرپرست را اضافه می‌کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:144
msgid ""
"If DAD fails, the address will be marked \"duplicated\" and message will be "
"generated to syslog (and usually to console). The \"duplicated\" mark can be "
"checked with man:ifconfig[8]. It is administrators' responsibility to check "
"for and recover from DAD failures. The behavior should be improved in the "
"near future."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:146
msgid ""
"Some of the network driver loops multicast packets back to itself, even if "
"instructed not to do so (especially in promiscuous mode). In such cases DAD "
"may fail, because DAD engine sees inbound NS packet (actually from the node "
"itself) and considers it as a sign of duplicate. You may want to look at #if "
"condition marked \"heuristics\" in sys/netinet6/nd6_nbr.c:nd6_dad_timer() as "
"workaround (note that the code fragment in \"heuristics\" section is not "
"spec conformant)."
msgstr ""
"برخی حلقه‌های گردانندهٔ شبکه بسته‌ها را به خودشان مولتیکست می‌کنند، حتی اگر "
"به‌گونه‌ای دستور گرفته باشند که چنین نکنند (مخصوصاً در حالت بی‌قاعده). در "
"چنین مواردی ممکن است که DAD شکست بخورد، زیرا موتور DAD بسته‌های داخلی NS را ("
"در واقع از خود گره) می‌بیند و آن را به‌نشان تکراری بودن در نظر می‌گیرد. ممکن "
"است بخواهید به شرط #if که در sys/netinet6/nd6_nbr.c:nd6_dad_timer() به‌عنوان "
"راه حل جایگزین \"heuristics\" نشانه‌گذاری شده است نگاهی بیندازید (توجه کنید "
"قطعه کد واقع در بخش \"heuristics\" منطبق با مشخصات نیست)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:148
msgid ""
"Neighbor Discovery specification (RFC2461) does not talk about neighbor "
"cache handling in the following cases:"
msgstr ""
"مشخصات کشف همسایه (RFC2461) در موارد زیر در مورد رسیدگی به کَش همسایه صحبتی "
"نمی‌کند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:150
msgid ""
"when there was no neighbor cache entry, node received unsolicited "
"RS/NS/NA/redirect packet without link-layer address"
msgstr ""
"هنگامی‌که هیچ ورودی کَش همسایه‌ای وجود نداشت، گره بسته‌های تغییر مسیر "
"ناخواستهٔ RS/NS/NA/ را بدون نشانی سطح پیوند دریافت کرد"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:151
msgid ""
"neighbor cache handling on medium without link-layer address (we need a "
"neighbor cache entry for IsRouter bit)"
msgstr ""
"رسیدگی به کَش همسایه در حد متوسط بدون نشانی سطح پیوند (برای قسمت IsRouter ما "
"نیاز به یک ورودی کَش همسایه داریم)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:153
msgid ""
"For first case, we implemented workaround based on discussions on IETF "
"ipngwg mailing list. For more details, see the comments in the source code "
"and email thread started from (IPng 7155), dated Feb 6 1999."
msgstr ""
"برای اولین مورد، ما راه‌حل جایگزین را بر اساس مباحثی که در فهرست پست‌سپاری "
"IETF ipngwg صورت گرفت پیاده‌سازی کردیم. برای جزئیات بیشتر، توضیحات کد منبع و "
"بند ایمیلی را که از (IPng 7155) شروع شده است، به تاریخ ۶ فوریه ۱۹۹۹۹، ببینید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:155
msgid ""
"IPv6 on-link determination rule (RFC2461) is quite different from "
"assumptions in BSD network code. At this moment, no on-link determination "
"rule is supported where default router list is empty (RFC2461, section 5.2, "
"last sentence in 2nd paragraph - note that the spec misuse the word \"host\" "
"and \"node\" in several places in the section)."
msgstr ""
"قانون تعیین‌کنندگیِ on-link در IPv6 (RFC2461) کاملاً متفاوت از مفروضات در کد "
"شبکهٔ BSD است. در این لحظه، هیچ قانون تعیین‌کنندگیِ on-link در جایی‌که فهرست "
"مسیریاب خالی باشد پشتیبانی نمی‌شود (RFC2461، بخش 5.2، آخرین جلمه در پاراگراف "
"دوم - توجه داشته باشید که مشخصات در برخی قسمت‌ها کلمهٔ \"میزبان\" و \"گره\" "
"را اشتباه به‌کار می‌برد)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:157
msgid ""
"To avoid possible DoS attacks and infinite loops, only 10 options on ND "
"packet is accepted now. Therefore, if you have 20 prefix options attached to "
"RA, only the first 10 prefixes will be recognized. If this troubles you, "
"please ask it on FREEBSD-CURRENT mailing list and/or modify nd6_maxndopt in "
"[.filename]#sys/netinet6/nd6.c#. If there are high demands we may provide "
"sysctl knob for the variable."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:159
#, no-wrap
msgid "Scope Index"
msgstr "فهرست محدوده"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:162
msgid ""
"IPv6 uses scoped addresses. Therefore, it is very important to specify scope "
"index (interface index for link-local address, or site index for site-local "
"address) with an IPv6 address. Without scope index, scoped IPv6 address is "
"ambiguous to the kernel, and kernel will not be able to determine the "
"outbound interface for a packet."
msgstr ""
"IPv6 از نشانی‌های محدود‌شده استفاده می‌کند. در نتیجه، تعیین فهرست محدوده با "
"یک نشانی IPv6 بسیار مهم است (فهرست رابط برای نشانی link-local، یا فهرست سایت "
"برای نشانی site-local). بدون فهرست محدوده، نشانی محدود‌شدهٔ IPv6 نسبت به "
"هسته مبهم است، و هسته قادر به تعیین رابط بیرونی برای یک بسته نخواهد بود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:164
msgid ""
"Ordinary userland applications should use advanced API (RFC2292) to specify "
"scope index, or interface index. For similar purpose, sin6_scope_id member "
"in sockaddr_in6 structure is defined in RFC2553. However, the semantics for "
"sin6_scope_id is rather vague. If you care about portability of your "
"application, we suggest you to use advanced API rather than sin6_scope_id."
msgstr ""
"برنامه‌های عادی محیط کاربری باید از رابط‌ برنامه‌نویسی کاربردی (API) پیشرفته "
"(RFC2292) استفاده کنند تا فهرست محدوده، یا فهرست رابط را مشخص کنند. برای "
"منظور مشابه، عضو sin6_scope_id در ساختار sockaddr_in6 در RFC2553 تعریف شده "
"است، قوائد معنایی برای sin6_scope_id به‌نسبت مبهم است. اگر به جابجایی‌پذیری "
"برنامهٔ خود اهمیت می‌دهید، پیشنهاد می‌کنیم از API های پیشرفته به جای "
"sin6_scope_id استفاده کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:166
msgid ""
"In the kernel, an interface index for link-local scoped address is embedded "
"into 2nd 16bit-word (3rd and 4th byte) in IPv6 address. For example, you may "
"see something like:"
msgstr ""
"در هسته، فهرست رابطی برای نشانی محدود‌شدهٔ link-local داخل دومین کلمهٔ ۱۶-"
"بیتی (بایت سوم و چهارم) در نشانی IPv6 جاسازی شده است. برای مثال، ممکن است "
"چیزی مانند این را مشاهده کنید:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:170
#, no-wrap
msgid "\tfe80:1::200:f8ff:fe01:6317\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:173
msgid ""
"in the routing table and interface address structure (struct "
"in6_ifaddr). The address above is a link-local unicast address which belongs "
"to a network interface whose interface identifier is 1. The embedded index "
"enables us to identify IPv6 link local addresses over multiple interfaces "
"effectively and with only a little code change."
msgstr ""
"در جدول مسیرگزینی و ساختار نشانی رابط (struct in6_ifaddr). نشانی بالا یک "
"نشانی یونیکست link-local است که متعلق به یک رابط شبکه است که شناسانهٔ رابط "
"آن ۱ است. فهرست جاسازی شده این امکان را به ما می‌دهد تا نشانی‌های IPv6 link "
"local را تنها با کمی تغییر در کد نسبت به رابط‌های مختلف شناسایی کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:175
msgid ""
"Routing daemons and configuration programs, like man:route6d[8] and "
"man:ifconfig[8], will need to manipulate the \"embedded\" scope index. These "
"programs use routing sockets and ioctls (like SIOCGIFADDR_IN6) and the "
"kernel API will return IPv6 addresses with 2nd 16bit-word filled in. The "
"APIs are for manipulating kernel internal structure. Programs that use these "
"APIs have to be prepared about differences in kernels anyway."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:177
msgid ""
"When you specify scoped address to the command line, NEVER write the "
"embedded form (such as ff02:1::1 or fe80:2::fedc). This is not supposed to "
"work. Always use standard form, like ff02::1 or fe80::fedc, with command "
"line option for specifying interface (like `ping6 -I ne0 ff02::1`). In "
"general, if a command does not have command line option to specify outgoing "
"interface, that command is not ready to accept scoped address. This may seem "
"to be opposite from IPv6's premise to support \"dentist office\" "
"situation. We believe that specifications need some improvements for this."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:179
msgid ""
"Some of the userland tools support extended numeric IPv6 syntax, as "
"documented in [.filename]#draft-ietf-ipngwg-scopedaddr-format-00.txt#. You "
"can specify outgoing link, by using name of the outgoing interface like "
"\"fe80::1%ne0\". This way you will be able to specify link-local scoped "
"address without much trouble."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:181
msgid ""
"To use this extension in your program, you will need to use "
"man:getaddrinfo[3], and man:getnameinfo[3] with NI_WITHSCOPEID. The "
"implementation currently assumes 1-to-1 relationship between a link and an "
"interface, which is stronger than what specs say."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:183
#, no-wrap
msgid "Plug and Play"
msgstr "اتصال و اجرا کردن"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:186
msgid ""
"Most of the IPv6 stateless address autoconfiguration is implemented in the "
"kernel. Neighbor Discovery functions are implemented in the kernel as a "
"whole. Router Advertisement (RA) input for hosts is implemented in the "
"kernel. Router Solicitation (RS) output for endhosts, RS input for routers, "
"and RA output for routers are implemented in the userland."
msgstr ""
"بیشتر پیکربندی‌ خودکارِ (autoconfiguration) نشانیِ بی‌حالت در IPv6 در هسته "
"پیاده‌سازی شده است. توابع کشف همسایه به‌عنوان یک کل در هسته پیاده‌سازی شده‌"
"اند. ورودی اعلان مسیریاب (RA) برای میزبان‌ها در هسته پیاده‌سازی شده است. "
"خروجی درخواست مسیریاب (RS) برای میزبان‌های نهایی، ورودی RS برای مسیریاب‌ها، "
"و خروجی RA برای مسیریاب‌هایی در محیط کاربری پیاده‌سازی شده‌اند."

#. type: Title =====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:187
#, no-wrap
msgid "Assignment of link-local, and special addresses"
msgstr "تخصیص link-local، و نشانی‌های ویژه"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:190
msgid ""
"IPv6 link-local address is generated from IEEE802 address (Ethernet MAC "
"address). Each of interface is assigned an IPv6 link-local address "
"automatically, when the interface becomes up (IFF_UP). Also, direct route "
"for the link-local address is added to routing table."
msgstr ""
"نشانی link-local در IPv6 توسط نشانی IEEE802 ایجاد شده است (نشانی مک Ethernet)"
". زمانی‌که رابط بالا می‌آید (IFF_UP)، هر رابط به‌طور خودکار به یک نشانی link-"
"local تخصیص داده می‌شود. همچنین، مسیر مستقیم برای نشانی link-local به جدول "
"مسیرگزینی اضافه شده است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:192
msgid "Here is an output of netstat command:"
msgstr "این یک خروجی از دستور netstat است:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:199
#, no-wrap
msgid ""
"Internet6:\n"
"Destination                   Gateway                   Flags      Netif "
"Expire\n"
"fe80:1::%ed0/64               link#1                    UC          ed0\n"
"fe80:2::%ep0/64               link#2                    UC          ep0\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:202
msgid ""
"Interfaces that has no IEEE802 address (pseudo interfaces like tunnel "
"interfaces, or ppp interfaces) will borrow IEEE802 address from other "
"interfaces, such as Ethernet interfaces, whenever possible. If there is no "
"IEEE802 hardware attached, a last resort pseudo-random value, MD5(hostname), "
"will be used as source of link-local address. If it is not suitable for your "
"usage, you will need to configure the link-local address manually."
msgstr ""
"رابط‌هایی که نشانی IEEE802 را دارا نیستند (شبه رابط‌هایی چون رابط‌های تونل، "
"یا ppp) نشانی IEEE802 را در صورت امکان از سایر رابط‌ها قرض می‌گیرند، مانند "
"رابط‌های Ethernet. اگر هیچ سخت‌افزار IEEE802 متصل نباشد، یک مقدار شبه تصادفی "
"به‌عنوان آخرین گزینه، MD5(hostname)، به‌عنوان منبعِ نشانیِ link-local به‌کار "
"گرفته می‌شود. چنانچه برای مصرف شما مناسب نبود، لازم است تا نشانی link-local "
"را دستی پیکربندی کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:204
msgid ""
"If an interface is not capable of handling IPv6 (such as lack of multicast "
"support), link-local address will not be assigned to that interface. See "
"section 2 for details."
msgstr ""
"اگر یک رابط از عهدهٔ رسیدگی به IPv6 بر نیاید (مانند عدم پشتیبانی از "
"مولتیکست)، نشانی link-local به آن رابط تخصیص داده نمی‌شود. بخش دوم را برای "
"جزئیات بیشتر ببینید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:206
msgid ""
"Each interface joins the solicited multicast address and the link-local "
"all-nodes multicast addresses (e.g., fe80::1:ff01:6317 and ff02::1, "
"respectively, on the link the interface is attached). In addition to a "
"link-local address, the loopback address (::1) will be assigned to the "
"loopback interface. Also, ::1/128 and ff01::/32 are automatically added to "
"routing table, and loopback interface joins node-local multicast group "
"ff01::1."
msgstr ""
"هر رابط به نشانی مولتیکست درخواست شده و نشانی‌های مولتیکستِ link-local all-"
"nodes می‌پیوندد (برای مثال، fe80::1:ff01:6317 و ff02::1، به‌ترتیب، در پیوندی "
"که رابط بدان متصل شده است). علاوه‌بر نشانی link-local، نشانی‌های loopback "
"مثل (::1) به رابط loopback تخصیص داده می‌شود. همچنین، ::1/128 و ff01::/32 به‌"
"طور خودکار به جدول مسیریابی اضافه می‌شوند، و رابط loopback به گروه ff01::1 "
"مولتیکست node-local می‌پیوندد."

#. type: Title =====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:207
#, no-wrap
msgid "Stateless address autoconfiguration on Hosts"
msgstr "پیکربندی خودکار نشانی بی‌حالت در میزبان‌ها"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:210
msgid ""
"In IPv6 specification, nodes are separated into two categories: _routers_ "
"and _hosts_. Routers forward packets addressed to others, hosts does not "
"forward the packets. net.inet6.ip6.forwarding defines whether this node is "
"router or host (router if it is 1, host if it is 0)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:212
msgid ""
"When a host hears Router Advertisement from the router, a host may "
"autoconfigure itself by stateless address autoconfiguration. This behavior "
"can be controlled by net.inet6.ip6.accept_rtadv (host autoconfigures itself "
"if it is set to 1). By autoconfiguration, network address prefix for the "
"receiving interface (usually global address prefix) is added. Default route "
"is also configured. Routers periodically generate Router Advertisement "
"packets. To request an adjacent router to generate RA packet, a host can "
"transmit Router Solicitation. To generate a RS packet at any time, use the "
"_rtsol_ command. man:rtsold[8] daemon is also available. man:rtsold[8] "
"generates Router Solicitation whenever necessary, and it works great for "
"nomadic usage (notebooks/laptops). If one wishes to ignore Router "
"Advertisements, use sysctl to set net.inet6.ip6.accept_rtadv to 0."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:214
msgid ""
"To generate Router Advertisement from a router, use the man:rtadvd[8] "
"daemon."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:216
msgid ""
"Note that, IPv6 specification assumes the following items, and nonconforming "
"cases are left unspecified:"
msgstr ""
"توجه داشته باشید، مشخصات IPv6 موارد پیش رو را در نظر می‌گیرد، و موارد "
"ناسازگار نامعین باقی می‌مانند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:218
msgid "Only hosts will listen to router advertisements"
msgstr "تنها میزبان‌ها به اعلان‌های مسیریاب گوش می‌دهند"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:219
msgid "Hosts have single network interface (except loopback)"
msgstr "میزبان‌ها یک رابط شبکهٔ واحد دارند (به‌جز loopback)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:221
msgid ""
"Therefore, this is unwise to enable net.inet6.ip6.accept_rtadv on routers, "
"or multi-interface host. A misconfigured node can behave strange "
"(nonconforming configuration allowed for those who would like to do some "
"experiments)."
msgstr ""
"از این رو، فعال کردن net.inet6.ip6.accept_rtadv در مسیریاب‌ها یا میزبان چند "
"رابط غیرعقلانیست. گره‌ای که درست پیکربندی نشده باشد ممکن است به طرز عجیبی "
"رفتار کند (پیکربندی ناسازگار برای کسانی‌که مایل به انجام چندین آزمایش هستند "
"مجاز است)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:223
msgid "To summarize the sysctl knob:"
msgstr "برای خلاصه کردن sysctl knob:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:237
#, no-wrap
msgid ""
"\taccept_rtadv\tforwarding\trole of the node\n"
"\t---\t\t---\t\t---\n"
"\t0\t\t0\t\thost (to be manually configured)\n"
"\t0\t\t1\t\trouter\n"
"\t1\t\t0\t\tautoconfigured host\n"
"\t\t\t\t\t(spec assumes that host has single\n"
"\t\t\t\t\tinterface only, autoconfigured host\n"
"\t\t\t\t\twith multiple interface is\n"
"\t\t\t\t\tout-of-scope)\n"
"\t1\t\t1\t\tinvalid, or experimental\n"
"\t\t\t\t\t(out-of-scope of spec)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:240
msgid ""
"RFC2462 has validation rule against incoming RA prefix information option, "
"in 5.5.3 (e). This is to protect hosts from malicious (or misconfigured) "
"routers that advertise very short prefix lifetime. There was an update from "
"Jim Bound to ipngwg mailing list (look for \"(ipng 6712)\" in the archive) "
"and it is implemented Jim's update."
msgstr ""
"RFC2462 دارای قوانین اعتبارسنجی در برابر گزینهٔ اطلاعات پیشوند RA ورودی، در "
"5.5.3 (e) است. این بدین منظور است که میزبان‌‌‌ها را از مسیریاب‌های مخرب (یا "
"بد پیکربندی شده) ای که طول عمر پیشوند بسیار کوتاه را اعلان می‌کنند محافظت ‌"
"کند. به‌ روز رسانی‌ای توسط Jim Bound در فهرست پست‌سپاریِ ipngwg ایجاد شده "
"است (\"(ipng 6712)\" را ببینید در بایگانی) و به روز رسانیِ Jim پیاده‌سازی "
"شده است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:242
msgid ""
"See <<neighbor-discovery,23.5.1.2>> in the document for relationship between "
"DAD and autoconfiguration."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:244
#, no-wrap
msgid "Generic Tunnel Interface"
msgstr "رابط تونل عمومی"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:247
msgid ""
"GIF (Generic InterFace) is a pseudo interface for configured tunnel. Details "
"are described in man:gif[4]. Currently"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:249
msgid "v6 in v6"
msgstr "v6 در v6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:250
msgid "v6 in v4"
msgstr "v6 در v4"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:251
msgid "v4 in v6"
msgstr "v4 در v6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:252
msgid "v4 in v4"
msgstr "v4 در v4"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:254
msgid ""
"are available. Use man:gifconfig[8] to assign physical (outer) source and "
"destination address to gif interfaces. Configuration that uses same address "
"family for inner and outer IP header (v4 in v4, or v6 in v6) is "
"dangerous. It is very easy to configure interfaces and routing tables to "
"perform infinite level of tunneling. _Please be warned_."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:256
msgid ""
"gif can be configured to be ECN-friendly. See <<ipsec-ecn,23.5.4.5>> for "
"ECN-friendliness of tunnels, and man:gif[4] for how to configure."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:258
msgid ""
"If you would like to configure an IPv4-in-IPv6 tunnel with gif interface, "
"read man:gif[4] carefully. You will need to remove IPv6 link-local address "
"automatically assigned to the gif interface."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:260
#, no-wrap
msgid "Source Address Selection"
msgstr "انتخاب نشانی منبع"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:263
msgid ""
"Current source selection rule is scope oriented (there are some exceptions - "
"see below). For a given destination, a source IPv6 address is selected by "
"the following rule:"
msgstr ""
"قانون انتخاب منبع فعلی محدوده‌محور است (برخی استثناها وجود دارد - پایین را "
"ببینید). برای یک مقصد مشخص، نشانی IPv6 منبع توسط قوانین پیش رو انتخاب شده "
"است:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:265
msgid ""
"If the source address is explicitly specified by the user (e.g., via the "
"advanced API), the specified address is used."
msgstr ""
"چناچه نشانی منبع به‌صراحت توسط کاربر تعیین شود (برای مثال، توسط یک API "
"پیشرفته)، آن نشانی تعیین شده به‌کار برده می‌شود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:266
msgid ""
"If there is an address assigned to the outgoing interface (which is usually "
"determined by looking up the routing table) that has the same scope as the "
"destination address, the address is used."
msgstr ""
"چنانچه نشانی‌ای به رابط بیرونی تخصیص داده شده باشد (که معمولاً‌ با بررسی "
"جدول مسیرگزینی معین می‌شود) که همان محدودهٔ نشانی مقصد را داراست، نشانی "
"استفاده شده است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:268
msgid "  This is the most typical case."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:269
msgid ""
"If there is no address that satisfies the above condition, choose a global "
"address assigned to one of the interfaces on the sending node."
msgstr ""
"چنانچه هیچ نشانی‌ای نباشد که شرط بالا را برآورده سازد، یک نشانی جهانی که به "
"یکی از رابط‌های موجود در گره‌های در حال ارسال اختصاص یافته است را انتخاب "
"کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:270
msgid ""
"If there is no address that satisfies the above condition, and destination "
"address is site local scope, choose a site local address assigned to one of "
"the interfaces on the sending node."
msgstr ""
"چنانچه هیچ نشانی‌ای نباشد که شرط بالا را برآورده سازد، و نشانی مقصد در "
"محدودهٔ site local است، یک نشانی site local که به یکی از رابط‌ها در گرهٔ در "
"حال ارسال تخصیص داده شده است را انتخاب کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:271
msgid ""
"If there is no address that satisfies the above condition, choose the "
"address associated with the routing table entry for the destination. This is "
"the last resort, which may cause scope violation."
msgstr ""
"چنانچه هیچ نشانی‌ای نباشد که شرط بالا را برآورده سازد، نشانی‌ای را که مرتبط "
"با ورودی جدول مسیرگزینیِ مقصد است انتخاب کنید. این آخرین چاره است، که ممکن "
"است باعث نقض محدوده شود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:273
msgid ""
"For instance, ::1 is selected for ff01::1, fe80:1::200:f8ff:fe01:6317 for "
"fe80:1::2a0:24ff:feab:839b (note that embedded interface index - described "
"in <<ipv6-scope-index,23.5.1.3>> - helps us choose the right source "
"address. Those embedded indices will not be on the wire). If the outgoing "
"interface has multiple address for the scope, a source is selected longest "
"match basis (rule 3). Suppose 2001:0DB8:808:1:200:f8ff:fe01:6317 and "
"2001:0DB8:9:124:200:f8ff:fe01:6317 are given to the outgoing "
"interface. 2001:0DB8:808:1:200:f8ff:fe01:6317 is chosen as the source for "
"the destination 2001:0DB8:800::1."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:275
msgid ""
"Note that the above rule is not documented in the IPv6 spec. It is "
"considered \"up to implementation\" item. There are some cases where we do "
"not use the above rule. One example is connected TCP session, and we use the "
"address kept in tcb as the source. Another example is source address for "
"Neighbor Advertisement. Under the spec (RFC2461 7.2.2) NA's source should be "
"the target address of the corresponding NS's target. In this case we follow "
"the spec rather than the above longest-match rule."
msgstr ""
"توجه داشته باشید که قاعدهٔ بالا در مشخصات IPv6 مستند نشده است. این یک موردِ "
"\"برای پیاده‌سازی\" محسوب می‌شود. مواردی وجود دارند که ما قاعدهٔ بالا را در "
"آنها اجرا نمی‌کنیم. یک مثال جلسهٔ TCP متصل است، و ما نشانی نگه داشته شده در "
"tcb را به‌عنوان منبع استفاده می‌کنیم. مثال دیگر نشانی منبع برای اعلان همسایه "
"است. تحت مشخصات (RFC2461 7.2.2) منبعِ NA (اعلان همسایه) باید نشانی هدف برای "
"هدفِ NS (درخواست همسایهٔ) مربوطه باشد. در این مورد ما مشخصات را به‌جای قاعدهٔ"
" طولانی‌ترین تطابق بالا دنبال می‌کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:277
msgid ""
"For new connections (when rule 1 does not apply), deprecated addresses "
"(addresses with preferred lifetime = 0) will not be chosen as source address "
"if other choices are available. If no other choices are available, "
"deprecated address will be used as a last resort. If there are multiple "
"choice of deprecated addresses, the above scope rule will be used to choose "
"from those deprecated addresses. If you would like to prohibit the use of "
"deprecated address for some reason, configure net.inet6.ip6.use_deprecated "
"to 0. The issue related to deprecated address is described in RFC2462 5.5.4 "
"(NOTE: there is some debate underway in IETF ipngwg on how to use "
"\"deprecated\" address)."
msgstr ""
"برای اتصال‌های جدید (زمانی‌که قاعدهٔ 1 اعمال نمی‌شود)، چنانچه سایر گزینه‌ها "
"مطرح باشند نشانی‌های منسوخ شده (نشانی‌هایی با طول عمر ترجیح داده شده = 0) به‌"
"عنوان نشانی منبع انتخاب نمی‌شوند. اگر هیچ گزینهٔ دیگری نباشد، نشانی‌های "
"منسوخ شده به‌عنوان آخرین گزینه استفاده می‌شوند. چنانچه گزینه‌های مختلف برای "
"نشانی‌های منسوخ شده وجود دارند، قاعدهٔ محدودهٔ بالا برای انتخاب از بین نشانی‌"
"های منسوخ شده مورد استفاده قرار می‌گیرد. اگر می‌خواهید استفادهٔ نشانی‌های‌ "
"منسوخ شده را به هر دلیلی ممنوع کنید، مقدار net.inet6.ip6.use_deprecated را "
"روی 0 تنظیم کنید. مسائل مرتبط با نشانی منسوخ شده در RFC2462 5.5.4 تشریح شده‌"
"اند (توجه: در IETF ipngwg بحث‌هایی در مورد چگونگی به‌کار بردن نشانی \"منسوخ "
"شده\" در جریان است)."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:279
#, no-wrap
msgid "Jumbo Payload"
msgstr "بار Jumbo"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:282
msgid ""
"The Jumbo Payload hop-by-hop option is implemented and can be used to send "
"IPv6 packets with payloads longer than 65,535 octets. But currently no "
"physical interface whose MTU is more than 65,535 is supported, so such "
"payloads can be seen only on the loopback interface (i.e., lo0)."
msgstr ""
"گزینهٔ بار hop-by-hop در Jumbo پیاده‌سازی شده است و می‌توان به‌منظور ارسال "
"بسته‌های IPv6 با بارهایی طولانی‌تر از ۶۵٫۵۳۵ اکتاو از آن استفاده کرد. اما در "
"حال حاضر هیچ رابط فیزیکی‌ای که MTU آن بیشتر از ۶۵٫۵۳۵ باشد را پشتیبانی "
"نمی‌کند، در نتیجه چنین بارهایی را تنها می‌توان در رابط loopback (برای مثال، "
"lo0) دید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:284
msgid ""
"If you want to try jumbo payloads, you first have to reconfigure the kernel "
"so that the MTU of the loopback interface is more than 65,535 bytes; add the "
"following to the kernel configuration file:"
msgstr ""
"چنانچه می‌خواهید بارهای Jumbo را امتحان کنید، اول باید هستهٔ خود را طوری "
"پیکربندی کنید تا MTU در رابط loopback بیش از ۶۵٫۵۳۵ بایت باشد؛ خط پیش رو را "
"به پروندهٔ پیکربندی هسته اضافه کنید:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:286
msgid "`options \"LARGE_LOMTU\" #To test jumbo payload`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:288
msgid "and recompile the new kernel."
msgstr "و هستهٔ جدید را دوباره همگردانی کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:290
msgid ""
"Then you can test jumbo payloads by the man:ping6[8] command with -b and -s "
"options. The -b option must be specified to enlarge the size of the socket "
"buffer and the -s option specifies the length of the packet, which should be "
"more than 65,535. For example, type as follows:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:294
#, no-wrap
msgid "% ping6 -b 70000 -s 68000 ::1\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:297
msgid ""
"The IPv6 specification requires that the Jumbo Payload option must not be "
"used in a packet that carries a fragment header. If this condition is "
"broken, an ICMPv6 Parameter Problem message must be sent to the "
"sender. specification is followed, but you cannot usually see an ICMPv6 "
"error caused by this requirement."
msgstr ""
"مشخصات IPv6 ایجاب می‌کند که گزینهٔ بارِ Jumbo نباید در بسته‌ای که حامل یک "
"سرآیند شکننده است استفاده شود. چنانچه این شرط فراهم نشود، یک پیغام مشکل "
"پارامترِ ICMPv6 باید به فرستنده ارسال شود. مشخصات به دنبال آن می‌آیند، اما "
"معمولاً نمی‌توانید خطای ICMPv6 که توسط این نیازمندی ایجاد شده باشد را مشاهده "
"کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:299
msgid ""
"When an IPv6 packet is received, the frame length is checked and compared to "
"the length specified in the payload length field of the IPv6 header or in "
"the value of the Jumbo Payload option, if any. If the former is shorter than "
"the latter, the packet is discarded and statistics are incremented. You can "
"see the statistics as output of man:netstat[8] command with `-s -p ip6' "
"option:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:306
#, no-wrap
msgid ""
"% netstat -s -p ip6\n"
"\t  ip6:\n"
"\t\t(snip)\n"
"\t\t1 with data size < data length\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:309
msgid ""
"So, kernel does not send an ICMPv6 error unless the erroneous packet is an "
"actual Jumbo Payload, that is, its packet size is more than 65,535 bytes. As "
"described above, currently no physical interface with such a huge MTU is "
"supported, so it rarely returns an ICMPv6 error."
msgstr ""
"در نتیجه، هسته خطای ICMPv6 را ارسال نمی‌کند مگر آنکه بستهٔ اشتباه واقعاً یک "
"Jumbo Payload باشد، بدین معنا که اندازهٔ بستهٔ آن بیش از ۶۵٫۵۳۵ بایت است. "
"همانطور که در بالا توضیح داده شد، در حال حاضر هیچ رابط فیزیکی‌ای با این "
"اندازه MTU پشتیبانی نمی‌شود، از این رو به‌ندرت خطای ICMPv6 را برمی‌گرداند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:311
msgid ""
"TCP/UDP over jumbogram is not supported at this moment. This is because we "
"have no medium (other than loopback) to test this. Contact us if you need "
"this."
msgstr ""
"TCP/UDP در حال حاضر بر روی jumbogram پشتیبانی نمی‌شود. این بدین خاطر است که "
"ما هیچ وسیله‌ای (به غیر از loopback) برای آزمودن آن ندارم . چنانچه به چنین "
"چیزی نیاز داشتید ما را در جریان بگذارید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:313
msgid ""
"IPsec does not work on jumbograms. This is due to some specification twists "
"in supporting AH with jumbograms (AH header size influences payload length, "
"and this makes it real hard to authenticate inbound packet with jumbo "
"payload option as well as AH)."
msgstr ""
"IPsec با jumbogram ها کار نمی‌کند. این به‌خاطر برخی پیچیدگی‌های مشخصاتی در "
"پشتیبانی از AH با jumbogram هاست (اندازهٔ سرآیندِ AH طولِ بارِ (payload) را "
"تحت تاثیر قرار می‌دهد، و این مسئله اعتبارسنجی بستهٔ درونی را با گزینهٔ بارِ "
"jumbo و همچنین AH بسیار سخت می‌کند)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:315
msgid ""
"There are fundamental issues in *BSD support for jumbograms. We would like "
"to address those, but we need more time to finalize these. To name a few:"
msgstr ""
"در پشتیبانی از jumbogram ها در *BSD مسائل اساسی‌ای وجود دارد. دوست داریم "
"آنها را درست کنیم، اما نیاز به زمان بیشتر جهت نهایی کردن آنها داریم. برخی از "
"آنها عبارتند از:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:317
msgid ""
"mbuf pkthdr.len field is typed as \"int\" in 4.4BSD, so it will not hold "
"jumbogram with len > 2G on 32bit architecture CPUs. If we would like to "
"support jumbogram properly, the field must be expanded to hold 4G + IPv6 "
"header + link-layer header. Therefore, it must be expanded to at least "
"int64_t (u_int32_t is NOT enough)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:318
msgid ""
"We mistakingly use \"int\" to hold packet length in many places. We need to "
"convert them into larger integral type. It needs a great care, as we may "
"experience overflow during packet length computation."
msgstr ""
"ما به اشتباه از \"int\" برای نگه‌داری طول بسته‌ها در بسیاری از مکان‌ها "
"استفاده می‌کنیم. لازم است آنها را به حالت انتگرال بزرگتر تبدیل کنیم. از آنجا "
"که ممکن است هنگام محاسبهٔ طول بسته دچار سرریز میان‌گیر شویم، نیاز به مراقبت "
"فراوان دارد."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:319
msgid ""
"We mistakingly check for ip6_plen field of IPv6 header for packet payload "
"length in various places. We should be checking mbuf pkthdr.len "
"instead. ip6_input() will perform sanity check on jumbo payload option on "
"input, and we can safely use mbuf pkthdr.len afterwards."
msgstr ""
"ما به‌اشتباه بخش ip6_plen از سرآیند IPv6 را برای طول بار بسته در مکان‌های "
"مختلف بررسی می‌کنیم. در عوض باید mbuf pkthdr.len را بررسی کنیم. ip6_input() "
"سلامتی گزینهٔ بارِ jumbo در ورودی را بررسی می‌کند، و پس از آن می‌توانیم با "
"اطمینان از mbuf pkthdr.len استفاده کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:320
msgid "TCP code needs a careful update in bunch of places, of course."
msgstr "البته، کد TCP نیاز به یک به‌روزرسانی محتاطانه در چندین بخش دارد."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:321
#, no-wrap
msgid "Loop Prevention in Header Processing"
msgstr "اجتناب از حلقه در پردازش سرآیند"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:324
msgid ""
"IPv6 specification allows arbitrary number of extension headers to be placed "
"onto packets. If we implement IPv6 packet processing code in the way BSD "
"IPv4 code is implemented, kernel stack may overflow due to long function "
"call chain. sys/netinet6 code is carefully designed to avoid kernel stack "
"overflow, so sys/netinet6 code defines its own protocol switch structure, as "
"\"struct ip6protosw\" (see [.filename]#netinet6/ip6protosw.h#). There is no "
"such update to IPv4 part (sys/netinet) for compatibility, but small change "
"is added to its pr_input() prototype. So \"struct ipprotosw\" is also "
"defined. As a result, if you receive IPsec-over-IPv4 packet with massive "
"number of IPsec headers, kernel stack may blow up. IPsec-over-IPv6 is "
"okay. (Of-course, for those all IPsec headers to be processed, each such "
"IPsec header must pass each IPsec check. So an anonymous attacker will not "
"be able to do such an attack.)"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:326
#, no-wrap
msgid "ICMPv6"
msgstr "ICMPv6"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:329
msgid ""
"After RFC2463 was published, IETF ipngwg has decided to disallow ICMPv6 "
"error packet against ICMPv6 redirect, to prevent ICMPv6 storm on a network "
"medium. This is already implemented into the kernel."
msgstr ""
"پس از آنکه RFC2463 منتشر شد، IETF ipngwg تصمیم گرفته است تا بستهٔ خطای "
"ICMPv6 را در مقابل تغییرمسیرِ ICMPv6 نادیده بگیرد، تا از طوفان ICMPv6 در یک "
"رسانهٔ شبکه‌ای جلوگیری شود. این امکان از قبل در هسته پیاده‌سازی شده است."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:330
#, no-wrap
msgid "Applications"
msgstr "برنامه‌های کاربردی"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:333
msgid ""
"For userland programming, we support IPv6 socket API as specified in "
"RFC2553, RFC2292 and upcoming Internet drafts."
msgstr ""
"برای برنامه‌نویسی در محیط کاربری، ما رابط‌ برنامه‌نویسی کاربردی سوکت IPv6 را "
"همانطور که در RFC2553، RFC2292 و پیش‌نویس‌های اینترنت در آینده مشخص شده است "
"پشتیبانی می‌کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:335
msgid ""
"TCP/UDP over IPv6 is available and quite stable. You can enjoy "
"man:telnet[1], man:ftp[1], man:rlogin[1], man:rsh[1], man:ssh[1], etc. These "
"applications are protocol independent. That is, they automatically chooses "
"IPv4 or IPv6 according to DNS."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:336
#, no-wrap
msgid "Kernel Internals"
msgstr "داخلی‌های هسته"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:339
msgid ""
"While ip_forward() calls ip_output(), ip6_forward() directly calls "
"if_output() since routers must not divide IPv6 packets into fragments."
msgstr ""
"در حالی‌که ip_forward() فراخوانیِ ip_output() را انجام می‌دهد، ip6_forward() "
"مستقیماً if_output() را فراخوانی می‌کند زیرا مسیریاب‌ها نباید بسته‌های IPv6 "
"را به قطعات تقسیم کنند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:341
msgid ""
"ICMPv6 should contain the original packet as long as possible up to "
"1280. UDP6/IP6 port unreach, for instance, should contain all extension "
"headers and the *unchanged* UDP6 and IP6 headers. So, all IP6 functions "
"except TCP never convert network byte order into host byte order, to save "
"the original packet."
msgstr ""
"ICMPv6 باید تا جای ممکن تا 1280 شامل بستهٔ اصلی باشد. برای مثال، درگاه خارج "
"از دسترسِ UDP6/IP6، باید تمام سرآیند‌های پسوند و سرآیند‌های *بدون تغییرِ* "
"UDP6 و IP6 را دارا باشد. در نتیجه، تمامی کارکردهای IP6 به‌غیر از TCP هرگز "
"ترتیب بایتِ شبکه را به ترتیب بایتِ میزبان تبدیل نمی‌کنند تا بستهٔ اصلی را "
"ذخیره کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:343
msgid ""
"tcp_input(), udp6_input() and icmp6_input() can not assume that IP6 header "
"is preceding the transport headers due to extension headers. So, in6_cksum() "
"was implemented to handle packets whose IP6 header and transport header is "
"not continuous. TCP/IP6 nor UDP6/IP6 header structures do not exist for "
"checksum calculation."
msgstr ""
"tcp_input()، udp6_input() و icmp6_input() نمی‌توانند چنین فرض کنند که سرآیند "
"IP6 به‌دلیل سرآیند‌های پسوند،‌ سرآیند‌های انتقال را پشت سر می‌گذارد. در "
"نتیجه، in6_cksum() پیاده‌سازی شد تا به بسته‌هایی که سرآیند IP6 و سرآیند "
"انتقال آنها ادامه‌دار نیستند رسیدگی کند. نه ساختار سرآیند TCP/IP6 و نه UDP6/"
"IP6 برای محاسبهٔ سرجمع وجود ندارند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:345
msgid ""
"To process IP6 header, extension headers and transport headers easily, "
"network drivers are now required to store packets in one internal mbuf or "
"one or more external mbufs. A typical old driver prepares two internal mbufs "
"for 96 - 204 bytes data, however, now such packet data is stored in one "
"external mbuf."
msgstr ""
"برای پردازش آسانِ سرآیند IP6، سرآیند‌های پسوند و سرآیندهای انتقال، گرداننده‌"
"های شبکه اکنون ملزم به نگهداری بسته‌ها در یک mbuf داخلی یا یک یا تعداد "
"بیشتری mbuf های بیرونی هستند. یک گردانندهٔ قدیمی و معمولی دو mbuf داخلی را "
"برای داده‌های 96 - 204 بایتی آماده می‌کند، گرچه، چنین داده‌های بسته‌ای اکنون "
"در یک mbuf بیرونی ذخیره می‌شوند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:347
msgid ""
"`netstat -s -p ip6` tells you whether or not your driver conforms such "
"requirement. In the following example, \"cce0\" violates the "
"requirement. (For more information, refer to Section 2.)"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:357
#, no-wrap
msgid ""
"Mbuf statistics:\n"
"                317 one mbuf\n"
"                two or more mbuf::\n"
"                        lo0 = 8\n"
"\t\t\tcce0 = 10\n"
"                3282 one ext mbuf\n"
"                0 two or more ext mbuf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:360
msgid ""
"Each input function calls IP6_EXTHDR_CHECK in the beginning to check if the "
"region between IP6 and its header is continuous. IP6_EXTHDR_CHECK calls "
"m_pullup() only if the mbuf has M_LOOP flag, that is, the packet comes from "
"the loopback interface. m_pullup() is never called for packets coming from "
"physical network interfaces."
msgstr ""
"هرکدام از توابع ورودی، IP6_EXTHDR_CHECK را در ابتدا فراخوانی می‌کنند تا "
"بررسی کنند آیا ناحیهٔ بین IP6 و سرآیندش متوالی است یا خیر. IP6_EXTHDR_CHECK "
"تنها در صورتی m_pullup() را فراخوانی می‌کند که mbuf دارای نشان M_LOOP باشد، "
"از این رو، بسته از سمت رابط loopback می‌آید. m_pullup() هرگز برای بسته‌هایی "
"که از سمت رابط‌های شبکهٔ فیزیکی می‌آیند فراخوانی نمی‌شود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:362
msgid "Both IP and IP6 reassemble functions never call m_pullup()."
msgstr "هردو توابعِ جمع‌آوریِ IP و IP6 هرگز m_pullup() را فراخوانی نمی‌کنند."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:364
#, no-wrap
msgid "IPv4 Mapped Address and IPv6 Wildcard Socket"
msgstr "نشانی نگاشت‌شدهٔ IPv4 و سوکت IPv6 Wildcard"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:367
msgid ""
"RFC2553 describes IPv4 mapped address (3.7) and special behavior of IPv6 "
"wildcard bind socket (3.8). The spec allows you to:"
msgstr ""
"RFC2553 نشانی نگاشت‌شدهٔ IPv4 (3.7) و رفتار مخصوص سوکت IPv6 wildcard bind (3."
"8) را توضیح می‌دهد. مشخصات این اجازه را می‌دهند تا:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:369
msgid "Accept IPv4 connections by AF_INET6 wildcard bind socket."
msgstr "ارتباطات IPv4 را توسط سوکت AF_INET6 wildcard bind بپذیرید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:370
msgid ""
"Transmit IPv4 packet over AF_INET6 socket by using special form of the "
"address like ::ffff:10.1.1.1."
msgstr ""
"بستهٔ IPv4 را از طریق قالب ویژه‌ای از نشانی مانند ::ffff:10.1.1.1 بر روی "
"سوکت AF_INET6 منتقل کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:372
msgid ""
"but the spec itself is very complicated and does not specify how the socket "
"layer should behave. Here we call the former one \"listening side\" and the "
"latter one \"initiating side\", for reference purposes."
msgstr ""
"اما خود مشخصات بسیار پیچیده است و نحوهٔ رفتارکردن لایهٔ سوکت را مشخص نمی‌"
"کند. در اینجا ما برای اهداف مرجع اولی را \"سمت شنونده\" می‌نامیم و دومی را "
"\"سمت آغازگر\"."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:374
msgid ""
"You can perform wildcard bind on both of the address families, on the same "
"port."
msgstr ""
"می‌توانید اتصال wildcard را بر روی هر دو خانوادهٔ نشانی اجر کنید، بر روی یک "
"پورت."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:376
msgid "The following table show the behavior of FreeBSD 4.x."
msgstr "جدول پیش رو رفتار FreeBSD 4.x را نشان می‌دهد."

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:385
#, no-wrap
msgid ""
"listening side          initiating side\n"
"                (AF_INET6 wildcard      (connection to ::ffff:10.1.1.1)\n"
"                socket gets IPv4 conn.)\n"
"                ---                     ---\n"
"FreeBSD 4.x     configurable            supported\n"
"                default: enabled\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:388
msgid ""
"The following sections will give you more details, and how you can configure "
"the behavior."
msgstr ""
"بخش‌های پیش رو، جزئیات بیشتر و چگونگی پیکربندی رفتار را به شما نشان می‌دهد."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:390
msgid "Comments on listening side:"
msgstr "توضیحاتی در باب سمت شنونده:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:392
msgid ""
"It looks that RFC2553 talks too little on wildcard bind issue, especially on "
"the port space issue, failure mode and relationship between AF_INET/INET6 "
"wildcard bind. There can be several separate interpretation for this RFC "
"which conform to it but behaves differently. So, to implement portable "
"application you should assume nothing about the behavior in the "
"kernel. Using man:getaddrinfo[3] is the safest way. Port number space and "
"wildcard bind issues were discussed in detail on ipv6imp mailing list, in "
"mid March 1999 and it looks that there is no concrete consensus (means, up "
"to implementers). You may want to check the mailing list archives."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:394
msgid ""
"If a server application would like to accept IPv4 and IPv6 connections, "
"there will be two alternatives."
msgstr ""
"اگر یک برنامهٔ کارساز بخواهد ارتباطات IPv4 و IPv6 را بپذیرد، دو گزینه وجود "
"خواهد داشت."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:396
msgid ""
"One is using AF_INET and AF_INET6 socket (you will need two sockets). Use "
"man:getaddrinfo[3] with AI_PASSIVE into ai_flags, and man:socket[2] and "
"man:bind[2] to all the addresses returned. By opening multiple sockets, you "
"can accept connections onto the socket with proper address family. IPv4 "
"connections will be accepted by AF_INET socket, and IPv6 connections will be "
"accepted by AF_INET6 socket."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:398
msgid ""
"Another way is using one AF_INET6 wildcard bind socket. Use "
"man:getaddrinfo[3] with AI_PASSIVE into ai_flags and with AF_INET6 into "
"ai_family, and set the 1st argument hostname to NULL. And man:socket[2] and "
"man:bind[2] to the address returned. (should be IPv6 unspecified addr). You "
"can accept either of IPv4 and IPv6 packet via this one socket."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:400
msgid ""
"To support only IPv6 traffic on AF_INET6 wildcard binded socket portably, "
"always check the peer address when a connection is made toward AF_INET6 "
"listening socket. If the address is IPv4 mapped address, you may want to "
"reject the connection. You can check the condition by using "
"IN6_IS_ADDR_V4MAPPED() macro."
msgstr ""
"به‌منظور پشتیبانی تنها از ترافیک IPv6 در سوکت پیونده داده شدهٔ قابل حمل "
"AF_INET6 wildcard، همیشه نشانی همتا را زمانی‌که یک اتصال سمت سوکت شنوندهٔ "
"AF_INET6 ایجاد می‌شود بررسی کنید. چنانچه نشانی یک نشانی نگاشت‌شدهٔ IPv4 باشد،"
" ممکن است بخواهید اتصال را رد کنید. می‌توانید وضعیت را با استفاده از ماکروی "
"IN6_IS_ADDR_V4MAPPED() بررسی کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:402
msgid ""
"To resolve this issue more easily, there is system dependent "
"man:setsockopt[2] option, IPV6_BINDV6ONLY, used like below."
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:406
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:444
#, no-wrap
msgid "\tint on;\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:409
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:447
#, no-wrap
msgid ""
"\tsetsockopt(s, IPPROTO_IPV6, IPV6_BINDV6ONLY,\n"
"\t\t   (char *)&on, sizeof (on)) < 0));\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:412
msgid "When this call succeed, then this socket only receive IPv6 packets."
msgstr ""
"هنگامی‌که این فراخوان موفق می‌شود، سپس این سوکت تنها بسته‌های IPv6 را دریافت "
"می‌کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:414
msgid "Comments on initiating side:"
msgstr "توضیحاتی در باب سمت آغازگر:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:416
msgid ""
"Advise to application implementers: to implement a portable IPv6 application "
"(which works on multiple IPv6 kernels), we believe that the following is the "
"key to the success:"
msgstr ""
"توصیه برای افرادی که پیاده‌سازی برنامه انجام می‌دهند‌: برای پیاده‌سازی یک "
"برنامهٔ قابل‌حملِ IPv6 (که در هسته‌های IPv6 مختلف کار کند)، باور داریم موارد "
"پیش رو کلید موفقیت هستند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:418
msgid "NEVER hardcode AF_INET nor AF_INET6."
msgstr "هرگز AF_INET یا AF_INET6 را سخت‌نویسی نکنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:419
msgid ""
"Use man:getaddrinfo[3] and man:getnameinfo[3] throughout the system. Never "
"use gethostby*(), getaddrby*(), inet_*() or getipnodeby*(). (To update "
"existing applications to be IPv6 aware easily, sometime getipnodeby*() will "
"be useful. But if possible, try to rewrite the code to use "
"man:getaddrinfo[3] and man:getnameinfo[3].)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:420
msgid ""
"If you would like to connect to destination, use man:getaddrinfo[3] and try "
"all the destination returned, like man:telnet[1] does."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:421
msgid ""
"Some of the IPv6 stack is shipped with buggy man:getaddrinfo[3]. Ship a "
"minimal working version with your application and use that as last resort."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:423
msgid ""
"If you would like to use AF_INET6 socket for both IPv4 and IPv6 outgoing "
"connection, you will need to use man:getipnodebyname[3]. When you would like "
"to update your existing application to be IPv6 aware with minimal effort, "
"this approach might be chosen. But please note that it is a temporal "
"solution, because man:getipnodebyname[3] itself is not recommended as it "
"does not handle scoped IPv6 addresses at all. For IPv6 name resolution, "
"man:getaddrinfo[3] is the preferred API. So you should rewrite your "
"application to use man:getaddrinfo[3], when you get the time to do it."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:425
msgid ""
"When writing applications that make outgoing connections, story goes much "
"simpler if you treat AF_INET and AF_INET6 as totally separate address "
"family. {set,get}sockopt issue goes simpler, DNS issue will be made "
"simpler. We do not recommend you to rely upon IPv4 mapped address."
msgstr ""
"وقتی‌که دارید برنامه‌هایی می‌نویسید که اتصالات بیرونی ایجاد می‌کنند، ماجرا "
"بسیار ساده‌تر می‌شود اگر AF_INET و AF_INET6 را به‌عنوان دو خانوادهٔ نشانی "
"کاملاً مستقل در نظر بگیرید. مسئلهٔ {set,get}sockopt ساده‌تر می‌شود، مسئلهٔ "
"DNS ساده‌تر خواهد شد. تکیه‌بر به نشانی نگاشت‌شدهٔ IPv4 را به شما پیشنهاد "
"نمی‌دهیم."

#. type: Title =====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:426
#, no-wrap
msgid "unified tcp and inpcb code"
msgstr "کد tcp و inpcb یکپارچه"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:429
msgid ""
"FreeBSD 4.x uses shared tcp code between IPv4 and IPv6 (from "
"sys/netinet/tcp*) and separate udp4/6 code. It uses unified inpcb structure."
msgstr ""
"FreeBSD 4.x از کد مشترک tcp بین IPv4 و IPv4 (از sys/netinet/tcp*) و کد "
"جداگانهٔ udp4/6 استفاده می‌کند. از ساختار یکپارچهٔ inpcb استفاده می‌کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:431
msgid ""
"The platform can be configured to support IPv4 mapped address. Kernel "
"configuration is summarized as follows:"
msgstr ""
"بستر می‌تواند پیکربندی شود تا نشانی‌های نگاشت‌شدهٔ IPv4 را پشتیبانی کند. "
"پیکربندی هسته بدین شکل خلاصه شده است:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:433
msgid ""
"By default, AF_INET6 socket will grab IPv4 connections in certain condition, "
"and can initiate connection to IPv4 destination embedded in IPv4 mapped IPv6 "
"address."
msgstr ""
"به‌طور پیش‌فرض، سوکت AF_INET6 اتصالات IPv4 را در شرایط خاصی می‌رباید، و می‌"
"تواند اتصال به مقصد IPv4 جاسازی شده در نشانی IPv6 نگاشت‌شدهٔ IPv4 را آغاز "
"کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:434
msgid "You can disable it on entire system with sysctl like below."
msgstr "می‌توانید آن را بدین شکل با sysctl در کل سامانه غیرفعال کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:436
msgid "  `sysctl net.inet6.ip6.mapped_addr=0`"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:438
msgid "====== Listening Side"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:440
msgid ""
"Each socket can be configured to support special AF_INET6 wildcard bind "
"(enabled by default). You can disable it on each socket basis with "
"man:setsockopt[2] like below."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:450
msgid ""
"Wildcard AF_INET6 socket grabs IPv4 connection if and only if the following "
"conditions are satisfied:"
msgstr ""
"سوکت Wildcard AF_INET6 اتصال IPv4 را می‌رباید چنانچه تنها شرایط پیش رو "
"برآورده شده باشد:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:452
msgid "there is no AF_INET socket that matches the IPv4 connection"
msgstr "هیچ سوکت AF_INET نباشد که متناسب با اتصال IPv4 باشد"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:453
msgid ""
"the AF_INET6 socket is configured to accept IPv4 traffic, i.e., "
"getsockopt(IPV6_BINDV6ONLY) returns 0."
msgstr ""
"سوکت AF_INET6 پیکربندی شده باشد تا ترافیک IPv4 را بپذیرد، برای مثال: "
"getsockopt(IPV6_BINDV6ONLY) مقدار 0 را بازگرداند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:455
msgid "There is no problem with open/close ordering."
msgstr "مشکلی با ترتیب باز/بسته نیست."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:457
msgid "====== Initiating Side"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:459
msgid ""
"FreeBSD 4.x supports outgoing connection to IPv4 mapped address "
"(::ffff:10.1.1.1), if the node is configured to support IPv4 mapped address."
msgstr ""
"چنانچه گره به‌گونه‌ای پیکربندی شده باشد تا نشانی نگاشت‌شدهٔ IPv4 را پشتیبانی "
"کند، FreeBSD 4.x اتصال خروجی به نشانی‌های نگاشت‌شدهٔ IPv4 مانند (::ffff:10.1."
"1.1) را پشتیبانی می‌کند."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:460
#, no-wrap
msgid "sockaddr_storage"
msgstr "sockaddr_storage"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:463
msgid ""
"When RFC2553 was about to be finalized, there was discussion on how struct "
"sockaddr_storage members are named. One proposal is to prepend \"__\" to the "
"members (like \"__ss_len\") as they should not be touched. The other "
"proposal was not to prepend it (like \"ss_len\") as we need to touch those "
"members directly. There was no clear consensus on it."
msgstr ""
"هنگامی‌که RFC2553 در حال تکمیل شدن بود، بحث بر سر آن بود که اعضای struct "
"sockaddr_storage چگونه نام‌گذاری شوند. یک پیشنهاد اضافه کردن \"__\" به اعضا "
"هست (مانند \"__ss_len\") چنانکه نباید مورد تماس قرار گیرند. پیشنهاد دیگر "
"اضافه نکردن آن بود (مانند \"ss_len\") چنانکه نیاز به تماس مستقیم با آن اعضا "
"را داریم. هیچ اتفاق نظری در مورد آن نبود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:465
msgid "As a result, RFC2553 defines struct sockaddr_storage as follows:"
msgstr "در نتیجه، RFC2553 مقدار struct sockaddr_storage را چنین تعریف می‌کند:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:473
#, no-wrap
msgid ""
"\tstruct sockaddr_storage {\n"
"\t\tu_char\t__ss_len;\t/* address length */\n"
"\t\tu_char\t__ss_family;\t/* address family */\n"
"\t\t/* and bunch of padding */\n"
"\t};\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:476
msgid "On the contrary, XNET draft defines as follows:"
msgstr "برعکس، پیش‌نویس XNET بدین ترتیب تعریف می‌شود:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:484
#, no-wrap
msgid ""
"\tstruct sockaddr_storage {\n"
"\t\tu_char\tss_len;\t\t/* address length */\n"
"\t\tu_char\tss_family;\t/* address family */\n"
"\t\t/* and bunch of padding */\n"
"\t};\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:487
msgid ""
"In December 1999, it was agreed that RFC2553bis should pick the latter "
"(XNET) definition."
msgstr ""
"در تاریخ دسامبر ۱۹۹۹، پذیرفته شد که RFC2553bis باید تعریف دومِ (XNET) را "
"انتخاب کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:489
msgid ""
"Current implementation conforms to XNET definition, based on RFC2553bis "
"discussion."
msgstr "پیاده‌سازی فعلی منطبق با تعریف XNET است، برپایهٔ مباحث RFC2553bis."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:491
msgid ""
"If you look at multiple IPv6 implementations, you will be able to see both "
"definitions. As an userland programmer, the most portable way of dealing "
"with it is to:"
msgstr ""
"چنانچه به پیاده‌سازی‌های مختلف IPv6 نگاه کنید، می‌توانید هر دو تعاریف را "
"ببینید. به‌عنوان برنامه‌نویس محیط کاربری، قابل‌حمل‌ترین راه برای مواجه با آن "
"از این قرار است:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:493
msgid ""
"ensure ss_family and/or ss_len are available on the platform, by using GNU "
"autoconf,"
msgstr ""
"مطمئن شوید ss_family و/یا ss_len در بستر در دسترس باشند، با استفاده از GNU "
"autoconf،"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:494
msgid ""
"have -Dss_family=__ss_family to unify all occurrences (including header "
"file) into __ss_family, or"
msgstr ""
"-Dss_family=__ss_family تمام موارد را در __ss_family یکپارچه کند (شامل "
"پروندهٔ سرآیند)، یا"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:495
msgid "never touch __ss_family. cast to sockaddr * and use sa_family like:"
msgstr ""
"هرگز __ss_family را دست نزنید. بریزید داخل sockaddr * و sa_family را اینگونه "
"به‌کار ببرید:"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:500
#, no-wrap
msgid ""
"\tstruct sockaddr_storage ss;\n"
"\tfamily = ((struct sockaddr *)&ss)->sa_family\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:502
#, no-wrap
msgid "Network Drivers"
msgstr "گرداننده‌های شبکه"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:505
msgid "Now following two items are required to be supported by standard drivers:"
msgstr ""
"حال نیاز است تا دو مورد پیش رو توسط گرداننده‌های استاندارد پشتیبانی شوند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:507
msgid ""
"mbuf clustering requirement. In this stable release, we changed MINCLSIZE "
"into MHLEN+1 for all the operating systems in order to make all the drivers "
"behave as we expect."
msgstr ""
"نیازمندی mbuf clustering. در این نسخهٔ پایدار، ما MINCLSIZE را برای تمام "
"سامانه‌های عامل به MHLEN تغییر دادیم تا تمام گرداننده‌ها را مجاب به رفتاری "
"کنیم که انتظار داریم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:508
msgid ""
"multicast. If man:ifmcstat[8] yields no multicast group for a interface, "
"that interface has to be patched."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:510
msgid ""
"If any of the drivers do not support the requirements, then the drivers "
"cannot be used for IPv6 and/or IPsec communication. If you find any problem "
"with your card using IPv6/IPsec, then, please report it to the "
"{freebsd-bugs}."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:512
msgid ""
"(NOTE: In the past we required all PCMCIA drivers to have a call to "
"in6_ifattach(). We have no such requirement any more)"
msgstr ""
"(توجه: در گذشته نیاز داشتیم تمام گرداننده‌های PCMCIA به in6_ifattach() "
"فراخوان داشته باشند. چنین نیازمندی‌ای دیگر وجود ندارد)"

#. type: Title ===
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:513
#, no-wrap
msgid "Translator"
msgstr "مترجم"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:516
msgid "We categorize IPv4/IPv6 translator into 4 types:"
msgstr "ما مترجم IPv4/IPv6 را به ۴ نوع دسته‌بندی می‌کنیم:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:518
msgid ""
"_Translator A_ --- It is used in the early stage of transition to make it "
"possible to establish a connection from an IPv6 host in an IPv6 island to an "
"IPv4 host in the IPv4 ocean."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:519
msgid ""
"_Translator B_ --- It is used in the early stage of transition to make it "
"possible to establish a connection from an IPv4 host in the IPv4 ocean to an "
"IPv6 host in an IPv6 island."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:520
msgid ""
"_Translator C_ --- It is used in the late stage of transition to make it "
"possible to establish a connection from an IPv4 host in an IPv4 island to an "
"IPv6 host in the IPv6 ocean."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:521
msgid ""
"_Translator D_ --- It is used in the late stage of transition to make it "
"possible to establish a connection from an IPv6 host in the IPv6 ocean to an "
"IPv4 host in an IPv4 island."
msgstr ""

#. type: Title ===
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:523
#, no-wrap
msgid "IPsec"
msgstr "IPsec"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:526
msgid "IPsec is mainly organized by three components."
msgstr "IPsec به‌طور کلی توسط سه بخش تشکیل شده است."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:528
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:531
#, no-wrap
msgid "Policy Management"
msgstr "مدیریت خط مشی"

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:529
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:537
#, no-wrap
msgid "Key Management"
msgstr "مدیریت کلید"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:530
msgid "AH and ESP handling"
msgstr "مدیریت AH و ESP"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:534
msgid ""
"The kernel implements experimental policy management code. There are two way "
"to manage security policy. One is to configure per-socket policy using "
"man:setsockopt[2]. In this cases, policy configuration is described in "
"man:ipsec_set_policy[3]. The other is to configure kernel packet "
"filter-based policy using PF_KEY interface, via man:setkey[8]."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:536
msgid ""
"The policy entry is not re-ordered with its indexes, so the order of entry "
"when you add is very significant."
msgstr ""
"ورودی خط مشی با فهرست‌های خود مرتب نمی‌شود، در نتیجه ترتیب ورودی که شما "
"اضافه می‌کنید بسیار مهم است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:540
msgid ""
"The key management code implemented in this kit (sys/netkey) is a home-brew "
"PFKEY v2 implementation. This conforms to RFC2367."
msgstr ""
"کد مدیریت کلید که در این کیت (sys/netkey) پیاده‌سازی شده است یک پیاده‌سازیِ "
"خانگیِ PFKEY v2 است و سازگار با RFC2367 است."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:542
msgid ""
"The home-brew IKE daemon, \"racoon\" is included in the kit "
"(kame/kame/racoon). Basically you will need to run racoon as daemon, then "
"set up a policy to require keys (like `ping -P 'out ipsec "
"esp/transport//use'`). The kernel will contact racoon daemon as necessary to "
"exchange keys."
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:543
#, no-wrap
msgid "AH and ESP Handling"
msgstr "مدیریت AH و ESP"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:546
msgid ""
"IPsec module is implemented as \"hooks\" to the standard IPv4/IPv6 "
"processing. When sending a packet, ip{,6}_output() checks if ESP/AH "
"processing is required by checking if a matching SPD (Security Policy "
"Database) is found. If ESP/AH is needed, {esp,ah}{4,6}_output() will be "
"called and mbuf will be updated accordingly. When a packet is received, "
"{esp,ah}4_input() will be called based on protocol number, i.e., "
"(*inetsw[proto])(). {esp,ah}4_input() will decrypt/check authenticity of the "
"packet, and strips off daisy-chained header and padding for ESP/AH. It is "
"safe to strip off the ESP/AH header on packet reception, since we will never "
"use the received packet in \"as is\" form."
msgstr ""
"ماژول IPsec به‌عنوان \"hooks\" در پردازش استاندارد IPv4/IPv6 پیاده‌سازی شده "
"است. هنگام ارسال بسته، ip{,6}_output() با بررسی برای یافتن یک SPD (Security "
"Policy Database) منطبق بررسی می‌کند اگر پردازش ESP/AH لازم است یا خیر. اگر "
"ESP/AH مورد نیاز باشد، {esp,ah}{4,6}_output() فراخوان می‌شود و mbuf طبق آن "
"به ‌روز می‌شود. هنگام دریافت بسته، {esp,ah}4_input() بر اساس شمارهٔ قرارداد "
"فراخوان می‌شود، برای مثال، (*inetsw[proto])(). {esp,ah}4_input() اصالت بسته "
"را بررسی/رمزگشایی می‌کند، و سرآیند زنجیره‌وار و لایه‌گذاریِ ESP/AH را از بین "
"می‌برد. از میان‌بردن سرآیند ESP/AH در پذیرش بسته امن است، زیرا هرگز بستهٔ "
"دریافتی را \"چنان که هست\" استفاده نمی‌کنیم."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:548
msgid ""
"By using ESP/AH, TCP4/6 effective data segment size will be affected by "
"extra daisy-chained headers inserted by ESP/AH. Our code takes care of the "
"case."
msgstr ""
"با استفاده از ESP/AH، اندازهٔ قطعه دادهٔ مؤثرِ TCP4/6 تحت تاثیر سرآیند‌های "
"زنجیره‌وارِ اضافی که توسط ESP/AH وارد شده است قرار می‌گیرد. کد ما به این "
"مورد رسیدگی می‌کند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:550
msgid ""
"Basic crypto functions can be found in directory \"sys/crypto\". ESP/AH "
"transform are listed in {esp,ah}_core.c with wrapper functions. If you wish "
"to add some algorithm, add wrapper function in {esp,ah}_core.c, and add your "
"crypto algorithm code into sys/crypto."
msgstr ""
"توابع سادهٔ رمزنگاری را می‌توانید در مسیر \"sys/crypto\" پیدا کنید. مبدل ESP/"
"AH همراه با توابع بسته‌بندی در {esp,ah}_core.c فهرست شده‌اند. اگر می‌خواهید "
"تعدادی الگوریتم اضافه کنید، تابع بسته‌بندی را در {esp,ah}_core.c اضافه کنید، "
"و کد الگوریتم رمزنگاری خود را داخل sys/crypto اضافه کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:552
msgid ""
"Tunnel mode is partially supported in this release, with the following "
"restrictions:"
msgstr "حالت تونل تا اندازه‌ای در این نسخه پشتیبانی می‌شود، با این محدودیت‌ها:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:554
msgid ""
"IPsec tunnel is not combined with GIF generic tunneling interface. It needs "
"a great care because we may create an infinite loop between ip_output() and "
"tunnelifp->if_output(). Opinion varies if it is better to unify them, or "
"not."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:555
msgid ""
"MTU and Don't Fragment bit (IPv4) considerations need more checking, but "
"basically works fine."
msgstr ""
"ملاحظات MTU و بیت Don't Fragment (IPv4) نیاز به بررسی بیشتری دارند، اما "
"اساساً درست کار می‌کنند."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:556
msgid ""
"Authentication model for AH tunnel must be revisited. We will need to "
"improve the policy management engine, eventually."
msgstr ""
"طرح اعتباربخشی برای تونل AH باید بازبینی شود. در نهایت، باید موتور مدیریت خط "
"مشی را بهبود ببخشیم."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:557
#, no-wrap
msgid "Conformance to RFCs and IDs"
msgstr "سازگاری با RFC ها و ID ها"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:560
msgid ""
"The IPsec code in the kernel conforms (or, tries to conform) to the "
"following standards:"
msgstr ""
"کد IPSec در هسته سازگار (یا، سعی بر سازگاری) با استانداردهای پیش رو است:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:562
msgid "\"old IPsec\" specification documented in [.filename]#rfc182[5-9].txt#"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:564
msgid ""
"\"new IPsec\" specification documented in [.filename]#rfc240[1-6].txt#, "
"[.filename]#rfc241[01].txt#, [.filename]#rfc2451.txt# and "
"[.filename]#draft-mcdonald-simple-ipsec-api-01.txt# (draft expired, but you "
"can take from link:ftp://ftp.kame.net/pub/internet-drafts/[ "
"ftp://ftp.kame.net/pub/internet-drafts/]). (NOTE: IKE specifications, "
"[.filename]#rfc241[7-9].txt# are implemented in userland, as \"racoon\" IKE "
"daemon)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:566
msgid "Currently supported algorithms are:"
msgstr "الگوریتم‌هایی که در حال حاضر پشتیبانی می‌شوند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:568
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:605
msgid "old IPsec AH"
msgstr "old IPsec AH"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:570
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:583
msgid "null crypto checksum (no document, just for debugging)"
msgstr "null crypto checksum (فاقد مستند، فقط برای اشکال‌زدایی)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:571
msgid "keyed MD5 with 128bit crypto checksum ([.filename]#rfc1828.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:572
msgid "keyed SHA1 with 128bit crypto checksum (no document)"
msgstr "keyed SHA1 with 128bit crypto checksum (فاقد مستند)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:573
msgid "HMAC MD5 with 128bit crypto checksum ([.filename]#rfc2085.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:574
msgid "HMAC SHA1 with 128bit crypto checksum (no document)"
msgstr "HMAC SHA1 with 128bit crypto checksum (فاقد مستند)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:576
msgid "old IPsec ESP"
msgstr "old IPsec ESP"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:578
msgid "null encryption (no document, similar to [.filename]#rfc2410.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:579
msgid "DES-CBC mode ([.filename]#rfc1829.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:581
msgid "new IPsec AH"
msgstr "new IPsec AH"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:584
msgid "keyed MD5 with 96bit crypto checksum (no document)"
msgstr "keyed MD5 with 96bit crypto checksum (فاقد مستند)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:585
msgid "keyed SHA1 with 96bit crypto checksum (no document)"
msgstr "keyed SHA1 with 96bit crypto checksum (فاقد مستند)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:586
msgid "HMAC MD5 with 96bit crypto checksum ([.filename]#rfc2403.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:587
msgid "HMAC SHA1 with 96bit crypto checksum ([.filename]#rfc2404.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:589
msgid "new IPsec ESP"
msgstr "new IPsec ESP"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:591
msgid "null encryption ([.filename]#rfc2410.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:592
msgid ""
"DES-CBC with derived IV "
"([.filename]#draft-ietf-ipsec-ciph-des-derived-01.txt#, draft expired)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:593
msgid "DES-CBC with explicit IV ([.filename]#rfc2405.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:594
msgid "3DES-CBC with explicit IV ([.filename]#rfc2451.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:595
msgid "BLOWFISH CBC ([.filename]#rfc2451.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:596
msgid "CAST128 CBC ([.filename]#rfc2451.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:597
msgid "RC5 CBC ([.filename]#rfc2451.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:598
msgid "each of the above can be combined with:"
msgstr "هر کدام از موارد بالا را می‌توان با موارد زیر ترکیب کرد:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:600
msgid "ESP authentication with HMAC-MD5(96bit)"
msgstr "اعتباربخشیِ ESP با HMAC-MD5(96bit)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:601
msgid "ESP authentication with HMAC-SHA1(96bit)"
msgstr "اعتباربخشیِ ESP با HMAC-SHA1(96bit)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:603
msgid "The following algorithms are NOT supported:"
msgstr "الگوریتم‌های پیش رو پشتیبانی نمی‌شوند:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:607
msgid ""
"HMAC MD5 with 128bit crypto checksum + 64bit replay prevention "
"([.filename]#rfc2085.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:608
msgid ""
"keyed SHA1 with 160bit crypto checksum + 32bit padding "
"([.filename]#rfc1852.txt#)"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:610
msgid ""
"IPsec (in kernel) and IKE (in userland as \"racoon\") has been tested at "
"several interoperability test events, and it is known to interoperate with "
"many other implementations well. Also, current IPsec implementation as quite "
"wide coverage for IPsec crypto algorithms documented in RFC (we cover "
"algorithms without intellectual property issues only)."
msgstr ""
"IPsec (در هسته) و IKE (در محیط کاربری به‌عنوان \"racoon\") در چندین رویداد "
"آزمایش هم‌کنش‌پذیری آزمایش شده است، و چنان شناخته شده است که با پیاده‌سازی‌"
"های دیگر به‌خوبی هم‌کنش می‌کند. همچنین، پیاده‌سازی فعلی IPsec به‌عنوان پوششی "
"کاملاً گسترده برای الگوریتم‌های رمزنگاریِ IPsec در RFC مستند شده است (ما "
"تنها الگوریتم‌های فاقد مسائل مالکیت معنوی را پوشش می‌دهیم)."

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:612
#, no-wrap
msgid "ECN Consideration on IPsec Tunnels"
msgstr "ملاحظهٔ ECN بر روی تونل‌های IPsec"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:615
msgid ""
"ECN-friendly IPsec tunnel is supported as described in "
"[.filename]#draft-ipsec-ecn-00.txt#."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:617
msgid ""
"Normal IPsec tunnel is described in RFC2401. On encapsulation, IPv4 TOS "
"field (or, IPv6 traffic class field) will be copied from inner IP header to "
"outer IP header. On decapsulation outer IP header will be simply "
"dropped. The decapsulation rule is not compatible with ECN, since ECN bit on "
"the outer IP TOS/traffic class field will be lost."
msgstr ""
"تونل IPsec معمولی در RFC2401 تشریح شده است. در کپسوله‌سازی، بخش IPv4 TOS (یا،"
" بخش کلاس ترافیک IPv6) از سرآیند IP داخلی به سرآیند IP بیرونی کپی می‌شود. در "
"کپسوله‌زدایی، سرآیند IP بیرونی به‌سادگی حذف می‌شود. قانون کپسوله‌زدایی "
"سازگار با ECN نیست، زیرا بیت ECN در بخش کلاس ترافیک/TOS نشانی IP بیرونی از "
"دست می‌رود."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:619
msgid ""
"To make IPsec tunnel ECN-friendly, we should modify encapsulation and "
"decapsulation procedure. This is described in "
"http://www.aciri.org/floyd/papers/draft-ipsec-ecn-00.txt[ "
"http://www.aciri.org/floyd/papers/draft-ipsec-ecn-00.txt], chapter 3."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:621
msgid ""
"IPsec tunnel implementation can give you three behaviors, by setting "
"net.inet.ipsec.ecn (or net.inet6.ipsec6.ecn) to some value:"
msgstr ""
"پیاده‌سازی تونل IPsec با تنظیم مقدار net.inet.ipsec.ecn (یا net.inet6.ipsec6."
"ecn) ممکن است به شما سه رفتار را نشان دهد:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:623
msgid "RFC2401: no consideration for ECN (sysctl value -1)"
msgstr "RFC2401: هیچ ملاحظه‌ای برای ECN (sysctl value -1) نیست"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:624
msgid "ECN forbidden (sysctl value 0)"
msgstr "ECN ممنوع (sysctl value 0)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:625
msgid "ECN allowed (sysctl value 1)"
msgstr "ECN مجاز (sysctl value 1)"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:627
msgid ""
"Note that the behavior is configurable in per-node manner, not per-SA manner "
"(draft-ipsec-ecn-00 wants per-SA configuration, but it looks too much for "
"me)."
msgstr ""
"توجه داشته باشید که این رفتارها به روش هر گره قابل تنظیم هستند، نه به روش هر "
"SA (draft-ipsec-ecn-00 خواهان تنظیم کردن به روش هر SA است، اما به‌نظر خیلی "
"زیاد است)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:629
msgid "The behavior is summarized as follows (see source code for more detail):"
msgstr ""
"این رفتارها بدین شکل خلاصه شده‌اند (کد منبع را برای جزئیات بیشتر ببینید):"

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:636
#, no-wrap
msgid ""
"encapsulate                     decapsulate\n"
"                ---                             ---\n"
"RFC2401         copy all TOS bits               drop TOS bits on outer\n"
"                from inner to outer.            (use inner TOS bits as is)\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:640
#, no-wrap
msgid ""
"ECN forbidden   copy TOS bits except for ECN    drop TOS bits on outer\n"
"                (masked with 0xfc) from inner   (use inner TOS bits as is)\n"
"                to outer.  set ECN bits to 0.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:645
#, no-wrap
msgid ""
"ECN allowed     copy TOS bits except for ECN    use inner TOS bits with "
"some\n"
"                CE (masked with 0xfe) from      change.  if outer ECN CE "
"bit\n"
"                inner to outer.                 is 1, enable ECN CE bit on\n"
"                set ECN CE bit to 0.            the inner.\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:648
msgid "General strategy for configuration is as follows:"
msgstr "راهبرد کلی برای پیکربندی چنین است:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:650
msgid ""
"if both IPsec tunnel endpoint are capable of ECN-friendly behavior, you "
"should better configure both end to \"ECN allowed\" (sysctl value 1)."
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:651
msgid ""
"if the other end is very strict about TOS bit, use \"RFC2401\" (sysctl value "
"-1)."
msgstr ""
"چنانچه پایانهٔ دیگر در مورد بیت TOS بسیار سخت‌گیرانه است، از \"RFC2401\" ("
"sysctl value -1) استفاده کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:652
msgid "in other cases, use \"ECN forbidden\" (sysctl value 0)."
msgstr "در سایر موارد، از \"ECN ممنوع\" (sysctl value 0) استفاده کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:654
msgid "The default behavior is \"ECN forbidden\" (sysctl value 0)."
msgstr "رفتار پیش‌فرض \"ECN ممنوع\" است (sysctl value 0)."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:656
msgid "For more information, please refer to:"
msgstr "برای اطلاعات بیشتر، لطفاً مراجعه کنید به:"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:658
msgid ""
"http://www.aciri.org/floyd/papers/draft-ipsec-ecn-00.txt[ "
"http://www.aciri.org/floyd/papers/draft-ipsec-ecn-00.txt], RFC2481 (Explicit "
"Congestion Notification), src/sys/netinet6/{ah,esp}_input.c"
msgstr ""

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:660
msgid ""
"(Thanks goes to Kenjiro Cho mailto:kjc@csl.sony.co.jp[kjc@csl.sony.co.jp] "
"for detailed analysis)"
msgstr ""

#. type: Title ====
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:661
#, no-wrap
msgid "Interoperability"
msgstr "هم‌کنش‌پذیری"

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:664
msgid ""
"Here are (some of) platforms that KAME code have tested IPsec/IKE "
"interoperability in the past. Note that both ends may have modified their "
"implementation, so use the following list just for reference purposes."
msgstr ""
"در اینجا (چندین) بستر هستند که کدِ KAME هم‌کنش‌پذیریِ IPsec/IKE را در گذشته "
"آزمایش کرده است. توجه داشته باشید که هردوی پایانه‌ها ممکن است پیاده‌سازی‌شان "
"را تغییر داده باشند، در نتیجه فهرست پیش رو را فقط برای ارجاع استفاده کنید."

#. type: Plain text
#: documentation/content/en/books/developers-handbook/ipv6/chapter.adoc:665
msgid ""
"Altiga, Ashley-laurent (vpcom.com), Data Fellows (F-Secure), Ericsson ACC, "
"FreeS/WAN, HITACHI, IBM AIX(R), IIJ, Intel, Microsoft(R) Windows NT(R), NIST "
"(linux IPsec + plutoplus), Netscreen, OpenBSD, RedCreek, Routerware, SSH, "
"Secure Computing, Soliton, Toshiba, VPNet, Yamaha RT100i"
msgstr ""
