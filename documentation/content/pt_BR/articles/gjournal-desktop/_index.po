# SOME DESCRIPTIVE TITLE
# Copyright (C) YEAR The FreeBSD Project
# This file is distributed under the same license as the FreeBSD Documentation package.
# Danilo G. Baio <dbaio@FreeBSD.org>, 2021.
msgid ""
msgstr ""
"Project-Id-Version: FreeBSD Documentation VERSION\n"
"POT-Creation-Date: 2021-03-20 17:26-0300\n"
"PO-Revision-Date: 2021-04-08 23:28+0000\n"
"Last-Translator: Anonymous <noreply@weblate.org>\n"
"Language-Team: Portuguese (Brazil) <https://translate-dev.freebsd.org/"
"projects/documentation/articlesgjournal-desktop_index/pt_BR/>\n"
"Language: pt_BR\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=2; plural=n > 1;\n"
"X-Generator: Weblate 4.5.2\n"

#. type: Title =
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:1
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:10
#, no-wrap
msgid "Implementing UFS Journaling on a Desktop PC"
msgstr "Implementando o UFS Journaling em um Desktop PC"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:38
msgid "Abstract"
msgstr "Sumário"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:44
#, fuzzy
msgid ""
"A journaling file system uses a log to record all transactions that take "
"place in the file system, and preserves its integrity in the event of a "
"system crash or power failure.  Although it is still possible to lose "
"unsaved changes to files, journaling almost completely eliminates the "
"possibility of file system corruption caused by an unclean shutdown.  It "
"also shortens to a minimum the time required for after-failure file system "
"checking.  Although the UFS file system employed by FreeBSD does not "
"implement journaling itself, the new journal class of the GEOM framework in "
"FreeBSD 7._X_ can be used to provide file system independent journaling.  "
"This article explains how to implement UFS journaling on a typical desktop "
"PC scenario."
msgstr ""
"Um sistema de arquivos com journaling usa um log para registrar todas as "
"transações que ocorrem no sistema de arquivos e preserva sua integridade em "
"caso de falha do sistema ou falta de energia. Embora ainda seja possível "
"perder as alterações não salvas nos arquivos, o journaling elimina quase "
"completamente a possibilidade de corrupção do sistema de arquivos causada "
"por um desligamento abrupto. Ele também reduz ao mínimo o tempo necessário "
"para a verificação do sistema de arquivos após a falha. Embora o sistema de "
"arquivos UFS empregado pelo FreeBSD não implemente o journaling em si, a "
"nova classe de journal do framework GEOM no FreeBSD 7.<replaceable>X</"
"replaceable> pode ser usada para fornecer journaling independente do sistema "
"de arquivos. Este artigo explica como implementar o UFS journaling em um "
"cenário típico de PC de mesa."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:46
msgid "'''"
msgstr "'''"

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:50
#, no-wrap
msgid "Introduction"
msgstr "Introdução"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:55
#, fuzzy
msgid ""
"While professional servers are usually well protected from unforeseen "
"shutdowns, the typical desktop is at the mercy of power failures, accidental "
"resets, and other user related incidents that can lead to unclean "
"shutdowns.  Soft Updates usually protect the file system efficiently in such "
"cases, although most of the times a lengthy background check is required.  "
"On rare occasions, file system corruption reaches a point where user "
"intervention is required and data may be lost."
msgstr ""
"Embora os servidores profissionais estejam geralmente bem protegidos contra "
"desligamentos imprevistos, um desktop típico fica à mercê de falhas de "
"energia, reinicializações acidentais e outros incidentes relacionados ao "
"usuário que podem levar a paradas abruptas. Os soft updates costumam "
"proteger o sistema de arquivos de maneira eficiente nestes casos, embora na "
"maioria das vezes seja necessária uma longa verificação em background. Em "
"raras ocasiões, a corrupção do sistema de arquivos atinge um ponto em que a "
"intervenção do usuário é necessária e os dados podem ser perdidos."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:57
msgid ""
"The new journaling capability provided by GEOM can greatly assist in such "
"scenarios, by virtually eliminating the time required for file system "
"checking, and ensuring that the file system is quickly restored to a "
"consistent state."
msgstr ""
"O novo recurso de journaling fornecido pela GEOM pode ajudar bastante nesses "
"cenários, praticamente eliminando o tempo necessário para a verificação do "
"sistema de arquivos e garantindo que o sistema de arquivos seja rapidamente "
"restaurado para um estado consistente."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:61
#, fuzzy
msgid ""
"This article describes a procedure for implementing UFS journaling on a "
"typical desktop PC scenario (one hard disk used for both operating system "
"and data).  It should be followed during a fresh installation of FreeBSD.  "
"The steps are simple enough and do not require overly complex interaction "
"with the command line."
msgstr ""
"Este artigo descreve um procedimento para implementar o journaling do UFS em "
"um cenário típico de PC de mesa (um único disco rígido usado para o sistema "
"operacional e para os dados). Deve ser seguido durante uma nova instalação "
"do FreeBSD. As etapas são simples o suficiente e não requerem interação "
"excessivamente complexa com a linha de comando."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:63
msgid "After reading this article, you will know:"
msgstr "Depois de ler este artigo, você saberá:"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:65
msgid ""
"How to reserve space for journaling during a new installation of FreeBSD."
msgstr ""
"Como reservar espaço para o journaling durante uma nova instalação do "
"FreeBSD."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:66
msgid ""
"How to load and enable the `geom_journal` module (or build support for it in "
"your custom kernel)."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:67
#, fuzzy
msgid ""
"How to convert your existing file systems to utilize journaling, and what "
"options to use in [.filename]#/etc/fstab# to mount them."
msgstr ""
"Como converter seus sistemas de arquivos existentes para utilizar o "
"journaling e quais opções usar em <filename>/etc/fstab</filename> para "
"montá-los."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:68
msgid "How to implement journaling in new (empty) partitions."
msgstr "Como implementar o journaling em novas partições (vazias)."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:69
msgid "How to troubleshoot common problems associated with journaling."
msgstr "Como solucionar problemas comuns associados ao journaling."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:71
msgid "Before reading this article, you should be able to:"
msgstr "Antes de ler este artigo, você deve ser capaz de:"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:73
msgid "Understand basic UNIX(R) and FreeBSD concepts."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:74
msgid ""
"Be familiar with the installation procedure of FreeBSD and the sysinstall "
"utility."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:80
#, fuzzy
msgid ""
"The procedure described here is intended for preparing a new installation "
"where no actual user data is stored on the disk yet.  While it is possible "
"to modify and extend this procedure for systems already in production, you "
"should _backup_ all important data before doing so.  Messing around with "
"disks and partitions at a low level can lead to fatal mistakes and data loss."
msgstr ""
"O procedimento descrito aqui é destinado a preparar uma nova instalação na "
"qual ainda não temos nenhum dado real do usuário é armazenado no disco. "
"Embora seja possível modificar e estender este procedimento para sistemas já "
"em produção, você deve efetuar o <emphasis>backup</emphasis> de todos os "
"dados importantes antes de fazer isso. Mexer com discos e partições em um "
"baixo nível pode levar a erros fatais e a perda de dados."

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:83
#, no-wrap
msgid "Understanding Journaling in FreeBSD"
msgstr "Compreendendo o journaling no FreeBSD"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:87
msgid ""
"The journaling provided by GEOM in FreeBSD 7._X_ is not file system specific "
"(unlike for example the ext3 file system in Linux(R)) but is functioning at "
"the block level.  Though this means it can be applied to different file "
"systems, for FreeBSD 7.0-RELEASE, it can only be used on UFS2."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:91
msgid ""
"This functionality is provided by loading the [.filename]#geom_journal.ko# "
"module into the kernel (or building it into a custom kernel) and using the "
"`gjournal` command to configure the file systems.  In general, you would "
"like to journal large file systems, like [.filename]#/usr#.  You will need "
"however (see the following section) to reserve some free disk space."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:98
#, fuzzy
msgid ""
"When a file system is journaled, some disk space is needed to keep the "
"journal itself.  The disk space that holds the actual data is referred to as "
"the __data provider__, while the one that holds the journal is referred to "
"as the __journal provider__.  The data and journal providers need to be on "
"different partitions when journaling an existing (non-empty) partition.  "
"When journaling a new partition, you have the option to use a single "
"provider for both data and journal.  In any case, the `gjournal` command "
"combines both providers to create the final journaled file system.  For "
"example:"
msgstr ""
"Quando um sistema de arquivos é \"journaled\", é necessário algum espaço em "
"disco para manter o próprio journal. O espaço em disco que contém os dados "
"reais é chamado de <emphasis>data provider</emphasis>, enquanto o que contém "
"o journal é chamado de <emphasis>journal provider</emphasis>. Os provedores "
"de dados e de journal  precisam estar em partições diferentes ao fazer o "
"journaling de uma partição existente (não vazia). Ao fazer o journaling de "
"uma nova partição, você tem a opção de usar um único provedor para os dados "
"e o journal. Em todo caso, o comando <command>gjournal</command> combina os "
"dois provedores para criar o sistema de arquivos journaled final. Por "
"exemplo:"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:100
msgid ""
"You wish to journal your [.filename]#/usr# file system, stored in [."
"filename]#/dev/ad0s1f# (which already contains data)."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:101
#, fuzzy
msgid ""
"You reserved some free disk space in a partition in [.filename]#/dev/ad0s1g#."
msgstr ""
"Você reservou algum espaço livre no disco, na partição <filename>/dev/"
"ad0s1g</filename>."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:102
msgid ""
"Using `gjournal`, a new [.filename]#/dev/ad0s1f.journal# device is created "
"where [.filename]#/dev/ad0s1f# is the data provider, and [.filename]#/dev/"
"ad0s1g# is the journal provider. This new device is then used for all "
"subsequent file operations."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:106
#, fuzzy
msgid ""
"The amount of disk space you need to reserve for the journal provider "
"depends on the usage load of the file system and not on the size of the data "
"provider.  For example on a typical office desktop, a 1 GB journal provider "
"for the [.filename]#/usr# file system will suffice, while a machine that "
"deals with heavy disk I/O (i.e. video editing) may need more.  A kernel "
"panic will occur if the journal space is exhausted before it has a chance to "
"be committed."
msgstr ""
"A quantidade de espaço em disco que você precisa reservar para o journal "
"provider depende da carga de uso do sistema de arquivos e não do tamanho do "
"data provider. Por exemplo, em um desktop típico de escritório, um journal "
"provider de 1 GB para o sistema de arquivos <filename>/usr</filename> será "
"suficiente, enquanto uma máquina que lida com I/O de disco pesado (por "
"exemplo, edição de vídeo) pode precisar de mais. Um kernel panic ocorrerá se "
"o espaço do journal estiver esgotado antes de ter a chance de ser committed."

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:113
#, fuzzy
msgid ""
"The journal sizes suggested here, are highly unlikely to cause problems in "
"typical desktop use (such as web browsing, word processing and playback of "
"media files).  If your workload includes intense disk activity, use the "
"following rule for maximum reliability: Your RAM size should fit in 30% of "
"the journal provider's space.  For example, if your system has 1 GB RAM, "
"create an approximately 3.3 GB journal provider.  (Multiply your RAM size "
"with 3.3 to obtain the size of the journal)."
msgstr ""
"É improvável que os tamanhos de journal sugeridos aqui causem problemas no "
"uso típico de um desktop (como navegação na Web, processamento de texto e "
"reprodução de arquivos de mídia). Se sua carga de trabalho incluir intensa "
"atividade de disco, use a regra a seguir para obter a confiabilidade máxima: "
"o tamanho da RAM deve caber em 30% do espaço do journal provider. Por "
"exemplo, se o seu sistema tiver 1 GB de RAM, crie um journal provider  de "
"aproximadamente 3,3 GB. (Multiplique o tamanho total da sua RAM por 3.3 para "
"obter o tamanho do journal)."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:116
msgid ""
"For more information about journaling, please read the manual page of man:"
"gjournal[8]."
msgstr ""

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:118
#, no-wrap
msgid "Steps During the Installation of FreeBSD"
msgstr "Etapas durante a instalação do FreeBSD"

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:120
#, no-wrap
msgid "Reserving Space for Journaling"
msgstr "Reservando espaço para o journaling"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:124
msgid ""
"A typical desktop machine usually has one hard disk that stores both the OS "
"and user data.  Arguably, the default partitioning scheme selected by "
"sysinstall is more or less suitable: A desktop machine does not need a large "
"[.filename]#/var# partition, while [.filename]#/usr# is allocated the bulk "
"of the disk space, since user data and a lot of packages are installed into "
"its subdirectories."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:128
msgid ""
"The default partitioning (the one obtained by pressing kbd:[A] at the "
"FreeBSD partition editor, called Disklabel) does not leave any unallocated "
"space.  Each partition that will be journaled, requires another partition "
"for the journal.  Since the [.filename]#/usr# partition is the largest, it "
"makes sense to shrink this partition slightly, to obtain the space required "
"for journaling."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:131
msgid ""
"In our example, an 80 GB disk is used.  The following screenshot shows the "
"default partitions created by Disklabel during installation:"
msgstr ""

#. type: Target for macro image
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:132
#, no-wrap
msgid "disklabel1.png"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:136
msgid ""
"If this is more or less what you need, it is very easy to adjust for "
"journaling.  Simply use the arrow keys to move the highlight to the [."
"filename]#/usr# partition and press kbd:[D] to delete it."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:140
msgid ""
"Now, move the highlight to the disk name at the top of the screen and press "
"kbd:[C] to create a new partition for [.filename]#/usr#.  This new partition "
"should be smaller by 1 GB (if you intend to journal [.filename]#/usr# only), "
"or 2 GB (if you intend to journal both [.filename]#/usr# and [.filename]#/"
"var#).  From the pop-up that appears, opt to create a file system, and type "
"[.filename]#/usr# as the mount point."
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:146
#, fuzzy
msgid ""
"Should you journal the [.filename]#/var# partition? Normally, journaling "
"makes sense on quite large partitions.  You may decide not to journal [."
"filename]#/var#, although doing so on a typical desktop will cause no harm.  "
"If the file system is lightly used (quite probable for a desktop) you may "
"wish to allocate less disk space for its journal."
msgstr ""
"Você deve fazer o journal da partição <filename>/var</filename>? "
"Normalmente, o journaling faz sentido em partições grandes. Você pode "
"decidir não fazer o journal do <filename>/var</filename>, embora fazê-lo em "
"um desktop típico não cause nenhum dano. Se o sistema de arquivos é usado "
"levemente (bastante provável para um desktop) você pode querer alocar menos "
"espaço em disco para o seu journal."

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:149
msgid ""
"In our example, we journal both [.filename]#/usr# and [.filename]#/var#.  "
"You may of course adjust the procedure to your own needs."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:155
msgid ""
"To keep things as easy going as possible, we are going to use sysinstall to "
"create the partitions required for journaling.  However, during "
"installation, sysinstall insists on asking a mount point for each partition "
"you create.  At this point, you do not have any mount points for the "
"partitions that will hold the journals, and in reality you __do not even "
"need them__.  These are not partitions that we are ever going to mount "
"somewhere."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:159
msgid ""
"To avoid these problems with sysinstall, we are going to create the journal "
"partitions as swap space.  Swap is never mounted, and sysinstall has no "
"problem creating as many swap partitions as needed.  After the first reboot, "
"[.filename]#/etc/fstab# will have to be edited, and the extra swap space "
"entries removed."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:165
msgid ""
"To create the swap, again use the arrow keys to move the highlight to the "
"top of Disklabel screen, so that the disk name itself is highlighted.  Then "
"press kbd:[N], enter the desired size (_1024M_), and select \"swap space\" "
"from the pop-up menu that appears.  Repeat for every journal you wish to "
"create.  In our example, we create two partitions to provide for the "
"journals of [.filename]#/usr# and [.filename]#/var#.  The final result is "
"shown in the following screenshot:"
msgstr ""

#. type: Target for macro image
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:166
#, no-wrap
msgid "disklabel2.png"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:171
#, fuzzy
msgid ""
"When you have completed creating the partitions, we suggest you write down "
"the partition names, and mount points, so you can easily refer to this "
"information during the configuration phase.  This will help alleviate "
"mistakes that may damage your installation.  The following table shows our "
"notes for the sample configuration:"
msgstr ""
"Quando tiver concluído a criação das partições, sugerimos que você anote os "
"nomes das partições e os pontos de montagem, para que possa consultar "
"facilmente essas informações durante a fase de configuração. Isso ajudará a "
"reduzir os erros que podem danificar sua instalação. A tabela a seguir "
"mostra nossas anotações para a configuração de exemplo:"

#. type: Block title
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:172
#, no-wrap
msgid "Partitions and Journals"
msgstr "Partições e Journals"

#. type: Table
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:186
#, no-wrap
msgid ""
"| Partition\n"
"| Mount Point\n"
"| Journal\n"
"\n"
"|ad0s1d\n"
"|/var\n"
"|ad0s1h\n"
"\n"
"|ad0s1f\n"
"|/usr\n"
"|ad0s1g\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:190
#, fuzzy
msgid ""
"Continue the installation as you would normally do.  We would however "
"suggest you postpone installation of third party software (packages) until "
"you have completely setup journaling."
msgstr ""
"Continue a instalação como faria normalmente. No entanto, sugerimos que você "
"adie a instalação de softwares de terceiros (pacotes) até que você configure "
"completamente o journaling."

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:192
#, no-wrap
msgid "Booting for the first time"
msgstr "Inicializando pela primeira vez"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:197
#, fuzzy
msgid ""
"Your system will come up normally, but you will need to edit [.filename]#/"
"etc/fstab# and remove the extra swap partitions you created for the "
"journals.  Normally, the swap partition you will actually use is the one "
"with the \"b\" suffix (i.e. ad0s1b in our example).  Remove all other swap "
"space entries and reboot so that FreeBSD will stop using them."
msgstr ""
"Seu sistema irá iniciar normalmente, mas você precisará editar o <filename>/"
"etc/fstab</filename> para remover as partições extras de swap que você criou "
"para os journals. Normalmente, a partição swap que você irá usar é aquela "
"com o sufixo <quote>b</quote> (por exemplo, ad0s1b no nosso exemplo). Remova "
"todas as outras entradas de espaço swap e reinicialize para que o FreeBSD "
"pare de usá-las."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:199
msgid ""
"When the system comes up again, we will be ready to configure journaling."
msgstr ""
"Quando o sistema voltar a funcionar, estaremos prontos para configurar o "
"journaling."

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:201
#, no-wrap
msgid "Setting Up Journaling"
msgstr "Configurando o  journaling"

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:204
#, no-wrap
msgid "Executing `gjournal`"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:208
msgid ""
"Having prepared all the required partitions, it is quite easy to configure "
"journaling.  We will need to switch to single user mode, so login as `root` "
"and type:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:212
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:430
#, no-wrap
msgid "# shutdown now\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:216
msgid ""
"Press kbd:[Enter] to get the default shell.  We will need to unmount the "
"partitions that will be journaled, in our example [.filename]#/usr# and [."
"filename]#/var#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:220
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:437
#, no-wrap
msgid "# umount /usr /var\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:223
msgid "Load the module required for journaling:"
msgstr "Carregue o módulo necessário para o  journaling:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:227
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:402
#, no-wrap
msgid "# gjournal load\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:232
msgid ""
"Now, use your notes to determine which partition will be used for each "
"journal.  In our example, [.filename]#/usr# is [.filename]#ad0s1f# and its "
"journal will be [.filename]#ad0s1g#, while [.filename]#/var# is [."
"filename]#ad0s1d# and will be journaled to [.filename]#ad0s1h#.  The "
"following commands are required:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:238
#, no-wrap
msgid ""
"# gjournal label ad0s1f ad0s1g\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:242
#, no-wrap
msgid ""
"# gjournal label ad0s1d ad0s1h\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.\n"
msgstr ""

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:248
#, fuzzy
msgid ""
"If the last sector of either partition is used, `gjournal` will return an "
"error.  You will have to run the command using the `-f` flag to force an "
"overwrite, i.e.:"
msgstr ""
"Se o último setor de qualquer partição for usado, o <command>gjournal</"
"command> retornará um erro. Você terá que executar o comando usando o "
"sinalizador <option>-f</option> para forçar uma substituição, ou seja:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:252
#, no-wrap
msgid "# gjournal label -f ad0s1d ad0s1h\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:255
msgid ""
"Since this is a new installation, it is highly unlikely that anything will "
"be actually overwritten."
msgstr ""
"Como esta é uma nova instalação, é altamente improvável que qualquer coisa "
"seja realmente sobrescrita."

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:260
msgid ""
"At this point, two new devices are created, namely [.filename]#ad0s1d."
"journal# and [.filename]#ad0s1f.journal#.  These represent the [.filename]#/"
"var# and [.filename]#/usr# partitions we have to mount.  Before mounting, we "
"must however set the journal flag on them and clear the Soft Updates flag:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:266
#, no-wrap
msgid ""
"# tunefs -J enable -n disable ad0s1d.journal\n"
"tunefs: gjournal set\n"
"tunefs: soft updates cleared\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:270
#, no-wrap
msgid ""
"# tunefs -J enable -n disable ad0s1f.journal\n"
"tunefs: gjournal set\n"
"tunefs: soft updates cleared\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:273
#, fuzzy
msgid ""
"Now, mount the new devices manually at their respective places (note that we "
"can now use the `async` mount option):"
msgstr ""
"Agora, monte os novos dispositivos manualmente em seus respectivos locais ("
"note que agora podemos usar a opção de montagem <option>async</option>):"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:278
#, no-wrap
msgid ""
"# mount -o async /dev/ad0s1d.journal /var\n"
"# mount -o async /dev/ad0s1f.journal /usr\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:281
msgid ""
"Edit [.filename]#/etc/fstab# and update the entries for [.filename]#/usr# "
"and [.filename]#/var#:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:286
#, fuzzy, no-wrap
msgid ""
"/dev/ad0s1f.journal     /usr            ufs     rw,async      2       2\n"
"/dev/ad0s1d.journal     /var            ufs     rw,async      2       2\n"
msgstr ""
"/dev/ad0s1f.journal     /usr            ufs     rw,async      2       2\n"
"/dev/ad0s1d.journal     /var            ufs     rw,async      2       2\n"

#. type: delimited block = 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:291
msgid ""
"Make sure the above entries are correct, or you will have trouble starting "
"up normally after you reboot!"
msgstr ""
"Certifique-se de que as entradas acima estão corretas ou você terá problemas "
"para inicializar normalmente após o reboot!"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:294
msgid ""
"Finally, edit [.filename]#/boot/loader.conf# and add the following line so "
"the man:gjournal[8] module is loaded at every boot:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:298
#, fuzzy, no-wrap
msgid "geom_journal_load=\"YES\"\n"
msgstr "geom_journal_load=\"YES\"\n"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:303
#, fuzzy
msgid ""
"Congratulations! Your system is now set for journaling.  You can either type "
"`exit` to return to multi-user mode, or reboot to test your configuration "
"(recommended).  During the boot you will see messages like the following:"
msgstr ""
"Parabéns! Seu sistema está agora configurado para journaling. Você pode "
"digitar <userinput>exit</userinput> para retornar ao modo multiusuário ou "
"reinicializar para testar sua configuração (recomendado). Durante a "
"inicialização, você verá mensagens como as seguintes:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:313
#, fuzzy, no-wrap
msgid ""
"ad0: 76293MB XEC XE800JD-00HBC0 08.02D08 at ata0-master SATA150\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.\n"
"GEOM_JOURNAL: Journal ad0s1d clean.\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.\n"
"GEOM_JOURNAL: Journal ad0s1f clean.\n"
msgstr ""
"ad0: 76293MB XEC XE800JD-00HBC0 08.02D08 at ata0-master SATA150\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.\n"
"GEOM_JOURNAL: Journal ad0s1d clean.\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.\n"
"GEOM_JOURNAL: Journal ad0s1f clean.\n"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:316
msgid "After an unclean shutdown, the messages will vary slightly, i.e.:"
msgstr ""
"Após um encerramento não limpo, as mensagens variam ligeiramente, ou seja:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:320
#, fuzzy, no-wrap
msgid "GEOM_JOURNAL: Journal ad0s1d consistent.\n"
msgstr "GEOM_JOURNAL: Journal ad0s1d consistent.\n"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:323
msgid ""
"This usually means that man:gjournal[8] used the information in the journal "
"provider to return the file system to a consistent state."
msgstr ""

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:325
#, no-wrap
msgid "Journaling Newly Created Partitions"
msgstr "Fazendo journaling de partições recém-criadas"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:330
#, fuzzy
msgid ""
"While the above procedure is necessary for journaling partitions that "
"already contain data, journaling an empty partition is somewhat easier, "
"since both the data and the journal provider can be stored in the same "
"partition.  For example, assume a new disk was installed, and a new "
"partition [.filename]#/dev/ad1s1d# was created.  Creating the journal would "
"be as simple as:"
msgstr ""
"Embora o procedimento acima seja necessário para partições que fazem uso de "
"journaling e que já contêm dados, o journaling de uma partição vazia é um "
"pouco mais fácil, uma vez que os dados e o journal provider podem ser "
"armazenados na mesma partição. Por exemplo, suponha que um novo disco tenha "
"sido instalado e uma nova partição <filename>/dev/ad1s1d</filename> tenha "
"sido criada. Criar o journal seria tão simples quanto:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:334
#, no-wrap
msgid "# gjournal label ad1s1d\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:340
msgid ""
"The journal size will be 1 GB by default.  You may adjust it by using the `-"
"s` option.  The value can be given in bytes, or appended by `K`, `M` or `G` "
"to denote Kilobytes, Megabytes or Gigabytes respectively.  Note that "
"`gjournal` will not allow you to create unsuitably small journal sizes."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:342
msgid ""
"For example, to create a 2 GB journal, you could use the following command:"
msgstr ""
"Por exemplo, para criar um journal de 2 GB, você poderia usar o seguinte "
"comando:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:346
#, no-wrap
msgid "# gjournal label -s 2G ad1s1d\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:349
#, fuzzy
msgid ""
"You can then create a file system on your new partition, and enable "
"journaling using the `-J` option:"
msgstr ""
"Você pode criar um sistema de arquivos em sua nova partição e ativar o "
"journaling usando a opção <option> -J </option>:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:353
#, no-wrap
msgid "# newfs -J /dev/ad1s1d.journal\n"
msgstr ""

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:356
#, no-wrap
msgid "Building Journaling into Your Custom Kernel"
msgstr "Adicionando suporte ao journaling no seu kernel personalizado"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:360
#, fuzzy
msgid ""
"If you do not wish to load `geom_journal` as a module, you can build its "
"functions right into your kernel.  Edit your custom kernel configuration "
"file, and make sure it includes these two lines:"
msgstr ""
"Se você não deseja carregar o <literal>geom_journal</literal> como um "
"módulo, você pode construir suas funções diretamente em seu kernel. Edite "
"seu arquivo de configuração do kernel personalizado e verifique se ele "
"inclui estas duas linhas:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:364
#, no-wrap
msgid "options UFS_GJOURNAL # Note: This is already in GENERIC\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:366
#, no-wrap
msgid "options GEOM_JOURNAL # You will have to add this one\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:369
msgid ""
"Rebuild and reinstall your kernel following the relevant link:{handbook}"
"#kernelconfig[instructions in the FreeBSD Handbook.]"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:371
msgid ""
"Do not forget to remove the relevant \"load\" entry from [.filename]#/boot/"
"loader.conf# if you have previously used it."
msgstr ""

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:373
#, no-wrap
msgid "Troubleshooting Journaling"
msgstr "Solução de problemas com  journaling"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:376
msgid ""
"The following section covers frequently asked questions regarding problems "
"related to journaling."
msgstr ""
"A seção a seguir aborda as perguntas mais frequentes relacionadas a "
"problemas relacionados ao  journaling."

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:377
#, no-wrap
msgid "I am getting kernel panics during periods of high disk activity. How is this related to journaling?"
msgstr ""
"Estou recebendo um kernel panic durante períodos de alta atividade de disco. "
"Como isso está relacionado ao journaling?"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:383
#, fuzzy
msgid ""
"The journal probably fills up before it has a chance to get committed "
"(flushed) to disk.  Keep in mind the size of the journal depends on the "
"usage load, and not the size of the data provider.  If your disk activity is "
"high, you need a larger partition for the journal.  See the note in the "
"<<understanding-journaling>> section."
msgstr ""
"O journal provavelmente se enche antes que ele tenha a chance de ser enviado "
"(descarregado) para o disco. Lembre-se de que o tamanho do journal depende "
"da carga de uso e não do tamanho do provedor de dados. Se a atividade do "
"disco for alta, você precisará de uma partição maior para o journal. Veja a "
"nota na seção <link linkend=\"understanding-journaling\"> Noções básicas "
"sobre journaling</link>."

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:384
#, no-wrap
msgid "I made some mistake during configuration, and I cannot boot normally now. Can this be fixed some way?"
msgstr ""
"Eu cometi algum erro durante a configuração e não consigo inicializar "
"normalmente agora. Isso pode ser resolvido de alguma forma?"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:390
msgid ""
"You either forgot (or misspelled) the entry in [.filename]#/boot/loader."
"conf#, or there are errors in your [.filename]#/etc/fstab# file.  These are "
"usually easy to fix.  Press kbd:[Enter] to get to the default single user "
"shell.  Then locate the root of the problem:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:394
#, no-wrap
msgid "# cat /boot/loader.conf\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:398
#, fuzzy
msgid ""
"If the `geom_journal_load` entry is missing or misspelled, the journaled "
"devices are never created.  Load the module manually, mount all partitions, "
"and continue with multi-user boot:"
msgstr ""
"Se a entrada <literal>geom_journal_load</literal> estiver ausente ou "
"incorreta, os dispositivos registrados nunca serão criados. Carregue o "
"módulo manualmente, monte todas as partições e continue com a inicialização "
"do modo multi usuário:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:409
#, fuzzy, no-wrap
msgid ""
"GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.\n"
"GEOM_JOURNAL: Journal ad0s1d clean.\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.\n"
"GEOM_JOURNAL: Journal ad0s1f clean.\n"
msgstr ""
"ad0: 76293MB XEC XE800JD-00HBC0 08.02D08 at ata0-master SATA150\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1g contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1h contains journal.\n"
"GEOM_JOURNAL: Journal 3193218002: ad0s1d contains data.\n"
"GEOM_JOURNAL: Journal ad0s1d clean.\n"
"GEOM_JOURNAL: Journal 2948326772: ad0s1f contains data.\n"
"GEOM_JOURNAL: Journal ad0s1f clean.\n"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:413
#, no-wrap
msgid ""
"# mount -a\n"
"# exit\n"
"(boot continues)\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:418
msgid ""
"If, on the other hand, this entry is correct, have a look at [.filename]#/"
"etc/fstab#.  You will probably find a misspelled or missing entry.  In this "
"case, mount all remaining partitions by hand and continue with the multi-"
"user boot."
msgstr ""

#. type: Title ===
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:419
#, no-wrap
msgid "Can I remove journaling and return to my standard file system with Soft Updates?"
msgstr ""
"Posso remover o registro no journal e retornar ao meu sistema de arquivos "
"padrão com o Soft Updates?"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:424
#, fuzzy
msgid ""
"Sure.  Use the following procedure, which reverses the changes.  The "
"partitions you created for the journal providers can then be used for other "
"purposes, if you so wish."
msgstr ""
"Certo. Use o procedimento a seguir, que inverte as alterações. As partições "
"que você criou para os provedores de journal podem ser usadas para outros "
"propósitos, se você desejar."

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:426
msgid "Login as `root` and switch to single user mode:"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:433
msgid "Unmount the journaled partitions:"
msgstr "Desmonte as partições journaled:"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:440
msgid "Synchronize the journals:"
msgstr "Sincronize os journals:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:444
#, no-wrap
msgid "# gjournal sync\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:447
msgid "Stop the journaling providers:"
msgstr "Pare os provedores de journaling:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:452
#, no-wrap
msgid ""
"# gjournal stop ad0s1d.journal\n"
"# gjournal stop ad0s1f.journal\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:455
msgid "Clear journaling metadata from all the devices used:"
msgstr "Limpe os metadados de journaling de todos os dispositivos usados:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:462
#, no-wrap
msgid ""
"# gjournal clear ad0s1d\n"
"# gjournal clear ad0s1f\n"
"# gjournal clear ad0s1g\n"
"# gjournal clear ad0s1h\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:465
msgid ""
"Clear the file system journaling flag, and restore the Soft Updates flag:"
msgstr ""
"Limpe o sinalizador de journaling do sistema de arquivos e restaure a flag "
"do Soft Updates:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:471
#, no-wrap
msgid ""
"# tunefs -J disable -n enable ad0s1d\n"
"tunefs: gjournal cleared\n"
"tunefs: soft updates set\n"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:475
#, no-wrap
msgid ""
"# tunefs -J disable -n enable ad0s1f\n"
"tunefs: gjournal cleared\n"
"tunefs: soft updates set\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:478
msgid "Remount the old devices by hand:"
msgstr "Remonte os dispositivos antigos à mão:"

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:483
#, no-wrap
msgid ""
"# mount -o rw /dev/ad0s1d /var\n"
"# mount -o rw /dev/ad0s1f /usr\n"
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:486
msgid "Edit [.filename]#/etc/fstab# and restore it to its original state:"
msgstr ""

#. type: delimited block . 4
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:491
#, fuzzy, no-wrap
msgid ""
"/dev/ad0s1f     /usr            ufs     rw      2       2\n"
"/dev/ad0s1d     /var            ufs     rw      2       2\n"
msgstr ""
"/dev/ad0s1f     /usr            ufs     rw      2       2\n"
"/dev/ad0s1d     /var            ufs     rw      2       2\n"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:494
msgid ""
"Finally, edit [.filename]#/boot/loader.conf#, remove the entry that loads "
"the `geom_journal` module and reboot."
msgstr ""

#. type: Title ==
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:496
#, no-wrap
msgid "Further Reading"
msgstr "Leitura Adicional"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:500
#, fuzzy
msgid ""
"Journaling is a fairly new feature of FreeBSD, and as such, it is not very "
"well documented yet.  You may however find the following additional "
"references useful:"
msgstr ""
"Journaling é um recurso relativamente novo do FreeBSD e, como tal, ainda não "
"está muito bem documentado. Você pode, no entanto, encontrar as seguintes "
"referências adicionais úteis:"

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:502
msgid ""
"A link:{handbook}#geom-gjournal[new section on journaling] is now part of "
"the FreeBSD Handbook."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:503
msgid ""
"https://lists.freebsd.org/pipermail/freebsd-current/2006-June/064043."
"html[This post] in {freebsd-current} by man:gjournal[8]'s developer, `{pjd}`."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:504
msgid ""
"https://lists.freebsd.org/pipermail/freebsd-questions/2008-April/173501."
"html[This post] in {freebsd-questions} by `{ivoras}`."
msgstr ""

#. type: Plain text
#: documentation/content/en/articles/gjournal-desktop/_index.adoc:504
msgid "The manual pages of man:gjournal[8] and man:geom[8]."
msgstr ""
